

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    Gio.Converter -
    
      Interfaces -
    
    Gio 2.0
  </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/pgi.css" type="text/css" />
  

  
  <script type="text/javascript">

    function openSidebar(element) {
        window.location.href = element.href + location.hash;
        return false;
    }

    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    function onLoaded() {
        if(!inIframe()) {
            var icons = document.getElementsByClassName('open-sidebar');

            for (var i = 0; i < icons.length; i ++) {
                icons[i].style.display = 'table-cell';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', onLoaded, false);

  </script>
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Gio 2.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Interfaces" href="../interfaces.html"/>
        <link rel="next" title="Gio.DBusInterface" href="DBusInterface.html"/>
        <link rel="prev" title="Gio.AsyncResult" href="AsyncResult.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gio-2.0/classes/Converter.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gio 2.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gio.Converter</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="AsyncResult.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="DBusInterface.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gio.Converter</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gio-2.0/classes/Converter.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gio 2.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gio.Converter</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="AsyncResult.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="DBusInterface.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gio.Converter</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="gio-converter">
<h1>Gio.Converter<a class="headerlink" href="#gio-converter" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<svg width="106pt" height="80pt"
 viewBox="0.00 0.00 106.00 80.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 76)">
<title>g</title>
<!-- GObject.GInterface -->
<g id="node1" class="node">
<title>GObject.GInterface</title>
<g id="a_node1"><a xlink:href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" xlink:title="GObject.GInterface">
<path fill="none" stroke="#3091d1" d="M92,-72C92,-72 6,-72 6,-72 3,-72 0,-69 0,-66 0,-66 0,-60 0,-60 0,-57 3,-54 6,-54 6,-54 92,-54 92,-54 95,-54 98,-57 98,-60 98,-60 98,-66 98,-66 98,-69 95,-72 92,-72"/>
<text text-anchor="middle" x="49" y="-60.7" font-family="inherit" font-size="8.50">GObject.GInterface</text>
</a>
</g>
</g>
<!-- Gio.Converter -->
<g id="node2" class="node">
<title>Gio.Converter</title>
<g id="a_node2"><a xlink:href="#Gio.Converter" xlink:title="Gio.Converter">
<path fill="none" stroke="#3091d1" d="M81.5,-18C81.5,-18 16.5,-18 16.5,-18 13.5,-18 10.5,-15 10.5,-12 10.5,-12 10.5,-6 10.5,-6 10.5,-3 13.5,0 16.5,0 16.5,0 81.5,0 81.5,0 84.5,0 87.5,-3 87.5,-6 87.5,-6 87.5,-12 87.5,-12 87.5,-15 84.5,-18 81.5,-18"/>
<text text-anchor="middle" x="49" y="-6.7" font-family="inherit" font-size="8.50">Gio.Converter</text>
</a>
</g>
</g>
<!-- GObject.GInterface&#45;&gt;Gio.Converter -->
<g id="edge1" class="edge">
<title>GObject.GInterface&#45;&gt;Gio.Converter</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M49,-53.88C49,-45.76 49,-33.13 49,-23.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="50.75,-23.24 49,-18.24 47.25,-23.24 50.75,-23.24"/>
</g>
</g>
</svg>
</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Implementations:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><a class="reference internal" href="CharsetConverter.html#Gio.CharsetConverter" title="Gio.CharsetConverter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.CharsetConverter</span></code></a>, <a class="reference internal" href="ZlibCompressor.html#Gio.ZlibCompressor" title="Gio.ZlibCompressor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.ZlibCompressor</span></code></a>, <a class="reference internal" href="ZlibDecompressor.html#Gio.ZlibDecompressor" title="Gio.ZlibDecompressor"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.ZlibDecompressor</span></code></a></td>
</tr>
</tbody>
</table>
<div class="section" id="methods">
<span id="gio-converter-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.Converter.convert" title="Gio.Converter.convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">convert</span></code></a> (inbuf, outbuf, flags)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.Converter.reset" title="Gio.Converter.reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">reset</span></code></a> ()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="virtual-methods">
<span id="gio-converter-vfuncs"></span><h2>Virtual Methods<a class="headerlink" href="#virtual-methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.Converter.do_convert" title="Gio.Converter.do_convert"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_convert</span></code></a> (inbuf, outbuf, flags)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.Converter.do_reset" title="Gio.Converter.do_reset"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_reset</span></code></a> ()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<span id="gio-converter-props"></span><h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="signals">
<span id="gio-converter-signals"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="fields">
<span id="gio-converter-fields"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="class-details">
<h2>Class Details<a class="headerlink" href="#class-details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Gio.Converter">
<em class="property">class </em><code class="descclassname">Gio.</code><code class="descname">Converter</code><a class="headerlink" href="#Gio.Converter" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Bases:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" title="(in GObject 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GObject.GInterface</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Structure:</th><td class="field-body"><a class="reference internal" href="ConverterIface.html#Gio.ConverterIface" title="Gio.ConverterIface"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.ConverterIface</span></code></a></td>
</tr>
</tbody>
</table>
<p><a class="reference internal" href="#Gio.Converter" title="Gio.Converter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter</span></code></a> is implemented by objects that convert
binary data in various ways. The conversion can be
stateful and may fail at any place.</p>
<p>Some example conversions are: character set conversion,
compression, decompression and regular expression
replace.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.24.</span></p>
</div>
<dl class="method">
<dt id="Gio.Converter.convert">
<code class="descname">convert</code><span class="sig-paren">(</span><em>inbuf</em>, <em>outbuf</em>, <em>flags</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gconverter.c#L162"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.Converter.convert" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inbuf</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a>) – the buffer
containing the data to convert.</li>
<li><strong>outbuf</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a>) – a buffer to write
converted data in.</li>
<li><strong>flags</strong> (<a class="reference internal" href="../flags.html#Gio.ConverterFlags" title="Gio.ConverterFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags</span></code></a>) – a <a class="reference internal" href="../flags.html#Gio.ConverterFlags" title="Gio.ConverterFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags</span></code></a> controlling the conversion details</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>a <a class="reference internal" href="../enums.html#Gio.ConverterResult" title="Gio.ConverterResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult</span></code></a>, <a class="reference internal" href="../enums.html#Gio.ConverterResult.ERROR" title="Gio.ConverterResult.ERROR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.ERROR</span></code></a> on error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">bytes_read:</th><td class="field-body">will be set to the number of bytes read from <cite>inbuf</cite> on success</td>
</tr>
<tr class="field-even field"><th class="field-name">bytes_written:</th><td class="field-body">will be set to the number of bytes written to <cite>outbuf</cite> on success</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference internal" href="../enums.html#Gio.ConverterResult" title="Gio.ConverterResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult</span></code></a>, <strong>bytes_read</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <strong>bytes_written</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>This is the main operation used when converting data. It is to be called
multiple times in a loop, and each time it will do some work, i.e.
producing some output (in <cite>outbuf</cite>) or consuming some input (from <cite>inbuf</cite>) or
both. If its not possible to do any work an error is returned.</p>
<p>Note that a single call may not consume all input (or any input at all).
Also a call may produce output even if given no input, due to state stored
in the converter producing output.</p>
<p>If any data was either produced or consumed, and then an error happens, then
only the successful conversion is reported and the error is returned on the
next call.</p>
<p>A full conversion loop involves calling this method repeatedly, each time
giving it new input and space output space. When there is no more input
data after the data in <cite>inbuf</cite>, the flag <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> must be set.
The loop will be (unless some error happens) returning <a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a>
each time until all data is consumed and all output is produced, then
<a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> is returned instead. Note, that <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a>
may be returned even if <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> is not set, for instance
in a decompression converter where the end of data is detectable from the
data (and there might even be other data after the end of the compressed data).</p>
<p>When some data has successfully been converted <cite>bytes_read</cite> and is set to
the number of bytes read from <cite>inbuf</cite>, and <cite>bytes_written</cite> is set to indicate
how many bytes was written to <cite>outbuf</cite>. If there are more data to output
or consume (i.e. unless the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> is specified) then
<a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a> is returned, and if no more data is to be output
then <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> is returned.</p>
<p>On error <a class="reference internal" href="../enums.html#Gio.ConverterResult.ERROR" title="Gio.ConverterResult.ERROR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.ERROR</span></code></a> is returned and <cite>error</cite> is set accordingly.
Some errors need special handling:</p>
<p><a class="reference internal" href="../enums.html#Gio.IOErrorEnum.NO_SPACE" title="Gio.IOErrorEnum.NO_SPACE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.NO_SPACE</span></code></a> is returned if there is not enough space
to write the resulting converted data, the application should
call the function again with a larger <cite>outbuf</cite> to continue.</p>
<p><a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a> is returned if there is not enough
input to fully determine what the conversion should produce,
and the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> flag is not set. This happens for
example with an incomplete multibyte sequence when converting text,
or when a regexp matches up to the end of the input (and may match
further input). It may also happen when <cite>inbuf_size</cite> is zero and
there is no more data to produce.</p>
<p>When this happens the application should read more input and then
call the function again. If further input shows that there is no
more data call the function again with the same data but with
the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> flag set. This may cause the conversion
to finish as e.g. in the regexp match case (or, to fail again with
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a> in e.g. a charset conversion where the
input is actually partial).</p>
<p>After <a class="reference internal" href="#Gio.Converter.convert" title="Gio.Converter.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.convert</span></code></a>() has returned <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> the
converter object is in an invalid state where its not allowed
to call <a class="reference internal" href="#Gio.Converter.convert" title="Gio.Converter.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.convert</span></code></a>() anymore. At this time you can only
free the object or call <a class="reference internal" href="#Gio.Converter.reset" title="Gio.Converter.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.reset</span></code></a>() to reset it to the
initial state.</p>
<p>If the flag <a class="reference internal" href="../flags.html#Gio.ConverterFlags.FLUSH" title="Gio.ConverterFlags.FLUSH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.FLUSH</span></code></a> is set then conversion is modified
to try to write out all internal state to the output. The application
has to call the function multiple times with the flag set, and when
the available input has been consumed and all internal state has
been produced then <a class="reference internal" href="../enums.html#Gio.ConverterResult.FLUSHED" title="Gio.ConverterResult.FLUSHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FLUSHED</span></code></a> (or <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> if
really at the end) is returned instead of <a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a>.
This is somewhat similar to what happens at the end of the input stream,
but done in the middle of the data.</p>
<p>This has different meanings for different conversions. For instance
in a compression converter it would mean that we flush all the
compression state into output such that if you uncompress the
compressed data you get back all the input data. Doing this may
make the final file larger due to padding though. Another example
is a regexp conversion, where if you at the end of the flushed data
have a match, but there is also a potential longer match. In the
non-flushed case we would ask for more input, but when flushing we
treat this as the end of input and do the match.</p>
<p>Flushing is not always possible (like if a charset converter flushes
at a partial multibyte sequence). Converters are supposed to try
to produce as much output as possible and then return an error
(typically <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.24.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.Converter.reset">
<code class="descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gconverter.c#L192"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.Converter.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all internal state in the converter, making it behave
as if it was just created. If the converter has any internal
state that would produce output then that output is lost.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.24.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.Converter.do_convert">
<code class="descname">do_convert</code><span class="sig-paren">(</span><em>inbuf</em>, <em>outbuf</em>, <em>flags</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.Converter.do_convert" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>inbuf</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – the buffer
containing the data to convert.</li>
<li><strong>outbuf</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytes</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a buffer to write
converted data in.</li>
<li><strong>flags</strong> (<a class="reference internal" href="../flags.html#Gio.ConverterFlags" title="Gio.ConverterFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags</span></code></a>) – a <a class="reference internal" href="../flags.html#Gio.ConverterFlags" title="Gio.ConverterFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags</span></code></a> controlling the conversion details</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p>a <a class="reference internal" href="../enums.html#Gio.ConverterResult" title="Gio.ConverterResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult</span></code></a>, <a class="reference internal" href="../enums.html#Gio.ConverterResult.ERROR" title="Gio.ConverterResult.ERROR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.ERROR</span></code></a> on error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">bytes_read:</th><td class="field-body">will be set to the number of bytes read from <cite>inbuf</cite> on success</td>
</tr>
<tr class="field-even field"><th class="field-name">bytes_written:</th><td class="field-body">will be set to the number of bytes written to <cite>outbuf</cite> on success</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference internal" href="../enums.html#Gio.ConverterResult" title="Gio.ConverterResult"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult</span></code></a>, <strong>bytes_read</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <strong>bytes_written</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>This is the main operation used when converting data. It is to be called
multiple times in a loop, and each time it will do some work, i.e.
producing some output (in <cite>outbuf</cite>) or consuming some input (from <cite>inbuf</cite>) or
both. If its not possible to do any work an error is returned.</p>
<p>Note that a single call may not consume all input (or any input at all).
Also a call may produce output even if given no input, due to state stored
in the converter producing output.</p>
<p>If any data was either produced or consumed, and then an error happens, then
only the successful conversion is reported and the error is returned on the
next call.</p>
<p>A full conversion loop involves calling this method repeatedly, each time
giving it new input and space output space. When there is no more input
data after the data in <cite>inbuf</cite>, the flag <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> must be set.
The loop will be (unless some error happens) returning <a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a>
each time until all data is consumed and all output is produced, then
<a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> is returned instead. Note, that <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a>
may be returned even if <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> is not set, for instance
in a decompression converter where the end of data is detectable from the
data (and there might even be other data after the end of the compressed data).</p>
<p>When some data has successfully been converted <cite>bytes_read</cite> and is set to
the number of bytes read from <cite>inbuf</cite>, and <cite>bytes_written</cite> is set to indicate
how many bytes was written to <cite>outbuf</cite>. If there are more data to output
or consume (i.e. unless the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> is specified) then
<a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a> is returned, and if no more data is to be output
then <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> is returned.</p>
<p>On error <a class="reference internal" href="../enums.html#Gio.ConverterResult.ERROR" title="Gio.ConverterResult.ERROR"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.ERROR</span></code></a> is returned and <cite>error</cite> is set accordingly.
Some errors need special handling:</p>
<p><a class="reference internal" href="../enums.html#Gio.IOErrorEnum.NO_SPACE" title="Gio.IOErrorEnum.NO_SPACE"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.NO_SPACE</span></code></a> is returned if there is not enough space
to write the resulting converted data, the application should
call the function again with a larger <cite>outbuf</cite> to continue.</p>
<p><a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a> is returned if there is not enough
input to fully determine what the conversion should produce,
and the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> flag is not set. This happens for
example with an incomplete multibyte sequence when converting text,
or when a regexp matches up to the end of the input (and may match
further input). It may also happen when <cite>inbuf_size</cite> is zero and
there is no more data to produce.</p>
<p>When this happens the application should read more input and then
call the function again. If further input shows that there is no
more data call the function again with the same data but with
the <a class="reference internal" href="../flags.html#Gio.ConverterFlags.INPUT_AT_END" title="Gio.ConverterFlags.INPUT_AT_END"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.INPUT_AT_END</span></code></a> flag set. This may cause the conversion
to finish as e.g. in the regexp match case (or, to fail again with
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a> in e.g. a charset conversion where the
input is actually partial).</p>
<p>After <a class="reference internal" href="#Gio.Converter.convert" title="Gio.Converter.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.convert</span></code></a>() has returned <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> the
converter object is in an invalid state where its not allowed
to call <a class="reference internal" href="#Gio.Converter.convert" title="Gio.Converter.convert"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.convert</span></code></a>() anymore. At this time you can only
free the object or call <a class="reference internal" href="#Gio.Converter.reset" title="Gio.Converter.reset"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Converter.reset</span></code></a>() to reset it to the
initial state.</p>
<p>If the flag <a class="reference internal" href="../flags.html#Gio.ConverterFlags.FLUSH" title="Gio.ConverterFlags.FLUSH"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterFlags.FLUSH</span></code></a> is set then conversion is modified
to try to write out all internal state to the output. The application
has to call the function multiple times with the flag set, and when
the available input has been consumed and all internal state has
been produced then <a class="reference internal" href="../enums.html#Gio.ConverterResult.FLUSHED" title="Gio.ConverterResult.FLUSHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FLUSHED</span></code></a> (or <a class="reference internal" href="../enums.html#Gio.ConverterResult.FINISHED" title="Gio.ConverterResult.FINISHED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.FINISHED</span></code></a> if
really at the end) is returned instead of <a class="reference internal" href="../enums.html#Gio.ConverterResult.CONVERTED" title="Gio.ConverterResult.CONVERTED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.ConverterResult.CONVERTED</span></code></a>.
This is somewhat similar to what happens at the end of the input stream,
but done in the middle of the data.</p>
<p>This has different meanings for different conversions. For instance
in a compression converter it would mean that we flush all the
compression state into output such that if you uncompress the
compressed data you get back all the input data. Doing this may
make the final file larger due to padding though. Another example
is a regexp conversion, where if you at the end of the flushed data
have a match, but there is also a potential longer match. In the
non-flushed case we would ask for more input, but when flushing we
treat this as the end of input and do the match.</p>
<p>Flushing is not always possible (like if a charset converter flushes
at a partial multibyte sequence). Converters are supposed to try
to produce as much output as possible and then return an error
(typically <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.PARTIAL_INPUT" title="Gio.IOErrorEnum.PARTIAL_INPUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.PARTIAL_INPUT</span></code></a>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.24.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.Converter.do_reset">
<code class="descname">do_reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.Converter.do_reset" title="Permalink to this definition">¶</a></dt>
<dd><p>Resets all internal state in the converter, making it behave
as if it was just created. If the converter has any internal
state that would produce output then that output is lost.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.24.</span></p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>
</html>