

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    GLib.MarkupParseContext -
    
      Structures -
    
    GLib 2.0
  </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/pgi.css" type="text/css" />
  

  
  <script type="text/javascript">

    function openSidebar(element) {
        window.location.href = element.href + location.hash;
        return false;
    }

    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    function onLoaded() {
        if(!inIframe()) {
            var icons = document.getElementsByClassName('open-sidebar');

            for (var i = 0; i < icons.length; i ++) {
                icons[i].style.display = 'table-cell';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', onLoaded, false);

  </script>
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="GLib 2.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Structures" href="../structs.html"/>
        <link rel="next" title="GLib.MarkupParser" href="MarkupParser.html"/>
        <link rel="prev" title="GLib.MappedFile" href="MappedFile.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#GLib-2.0/classes/MarkupParseContext.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GLib 2.0</a> &raquo;</li>
      
          <li><a href="../structs.html">Structures</a> &raquo;</li>
      
    <li>GLib.MarkupParseContext</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../structs.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="MappedFile.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="MarkupParser.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GLib.MarkupParseContext</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#GLib-2.0/classes/MarkupParseContext.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">GLib 2.0</a> &raquo;</li>
      
          <li><a href="../structs.html">Structures</a> &raquo;</li>
      
    <li>GLib.MarkupParseContext</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../structs.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="MappedFile.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="MarkupParser.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">GLib.MarkupParseContext</a><ul>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#details">Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="glib-markupparsecontext">
<h1>GLib.MarkupParseContext<a class="headerlink" href="#glib-markupparsecontext" title="Permalink to this headline">¶</a></h1>
<div class="section" id="fields">
<span id="glib-markupparsecontext-fields"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="methods">
<span id="glib-markupparsecontext-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>class</em></td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.new" title="GLib.MarkupParseContext.new"><code class="xref py py-obj docutils literal notranslate"><span class="pre">new</span></code></a> (parser, flags, user_data, user_data_dnotify)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.end_parse" title="GLib.MarkupParseContext.end_parse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">end_parse</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.free" title="GLib.MarkupParseContext.free"><code class="xref py py-obj docutils literal notranslate"><span class="pre">free</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.get_element" title="GLib.MarkupParseContext.get_element"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_element</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.get_position" title="GLib.MarkupParseContext.get_position"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_position</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.get_user_data" title="GLib.MarkupParseContext.get_user_data"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_user_data</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.parse" title="GLib.MarkupParseContext.parse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">parse</span></code></a> (text, text_len)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.pop" title="GLib.MarkupParseContext.pop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">pop</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.push" title="GLib.MarkupParseContext.push"><code class="xref py py-obj docutils literal notranslate"><span class="pre">push</span></code></a> (parser, user_data)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.ref" title="GLib.MarkupParseContext.ref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">ref</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#GLib.MarkupParseContext.unref" title="GLib.MarkupParseContext.unref"><code class="xref py py-obj docutils literal notranslate"><span class="pre">unref</span></code></a> ()</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="details">
<h2>Details<a class="headerlink" href="#details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="GLib.MarkupParseContext">
<em class="property">class </em><code class="descclassname">GLib.</code><code class="descname">MarkupParseContext</code><a class="headerlink" href="#GLib.MarkupParseContext" title="Permalink to this definition">¶</a></dt>
<dd><p>A parse context is used to parse a stream of bytes that
you expect to contain marked-up text.</p>
<p>See <a class="reference internal" href="#GLib.MarkupParseContext.new" title="GLib.MarkupParseContext.new"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.new</span></code></a>(), <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a>, and so
on for more details.</p>
<dl class="classmethod">
<dt id="GLib.MarkupParseContext.new">
<em class="property">classmethod </em><code class="descname">new</code><span class="sig-paren">(</span><em>parser</em>, <em>flags</em>, <em>user_data</em>, <em>user_data_dnotify</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L223"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.new" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>parser</strong> (<a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a>) – a <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a></li>
<li><strong>flags</strong> (<a class="reference internal" href="../flags.html#GLib.MarkupParseFlags" title="GLib.MarkupParseFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseFlags</span></code></a>) – one or more <a class="reference internal" href="../flags.html#GLib.MarkupParseFlags" title="GLib.MarkupParseFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseFlags</span></code></a></li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – user data to pass to <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a> functions</li>
<li><strong>user_data_dnotify</strong> (<a class="reference internal" href="../callbacks.html#GLib.DestroyNotify" title="GLib.DestroyNotify"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.DestroyNotify</span></code></a>) – user data destroy notifier called when
the parse context is freed</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new <a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Creates a new parse context. A parse context is used to parse
marked-up documents. You can feed any number of documents into
a context, as long as no errors occur; once an error occurs,
the parse context can’t continue to parse text (you have to
free it and create a new parse context).</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.end_parse">
<code class="descname">end_parse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L1784"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.end_parse" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="Error.html#GLib.Error" title="GLib.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> on success, <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> if an error was set</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Signals to the <a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a> that all data has been
fed into the parse context with <a class="reference internal" href="#GLib.MarkupParseContext.parse" title="GLib.MarkupParseContext.parse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.parse</span></code></a>().</p>
<p>This function reports an error if the document isn’t complete,
for example if elements are still open.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.free">
<code class="descname">free</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L332"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.free" title="Permalink to this definition">¶</a></dt>
<dd><p>Frees a <a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a>.</p>
<p>This function can’t be called from inside one of the
<a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a> functions or while a subparser is pushed.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.get_element">
<code class="descname">get_element</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L1916"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.get_element" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the name of the currently open element, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
<p>Retrieves the name of the currently open element.</p>
<p>If called from the start_element or end_element handlers this will
give the element_name as passed to those functions. For the parent
elements, see g_markup_parse_context_get_element_stack().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.2.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.get_position">
<code class="descname">get_position</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L1967"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.get_position" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">line_number:</th><td class="field-body">return location for a line number, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">char_number:</th><td class="field-body">return location for a <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>-on-line number, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(<strong>line_number</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <strong>char_number</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</td>
</tr>
</tbody>
</table>
<p>Retrieves the current line number and the number of the character on
that line. Intended for use in error messages; there are no strict
semantics for what constitutes the “current” line number other than
“the best number we could come up with for error messages.”</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.get_user_data">
<code class="descname">get_user_data</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L1995"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.get_user_data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the provided user_data. The returned data belongs to
the markup context and will be freed when
<a class="reference internal" href="#GLib.MarkupParseContext.free" title="GLib.MarkupParseContext.free"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.free</span></code></a>() is called.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
<p>Returns the user_data associated with <cite>self</cite>.</p>
<p>This will either be the user_data that was provided to
<a class="reference internal" href="#GLib.MarkupParseContext.new" title="GLib.MarkupParseContext.new"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.new</span></code></a>() or to the most recent call
of <a class="reference internal" href="#GLib.MarkupParseContext.push" title="GLib.MarkupParseContext.push"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.push</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.18.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>text</em>, <em>text_len</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L1139"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.parse" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>text</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – chunk of text to parse</li>
<li><strong>text_len</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – length of <cite>text</cite> in bytes</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference internal" href="Error.html#GLib.Error" title="GLib.Error"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> if an error occurred, <a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> on success</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Feed some data to the <a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a>.</p>
<p>The data need not be valid UTF-8; an error will be signaled if
it’s invalid. The data need not be an entire document; you can
feed a document into the parser incrementally, via multiple calls
to this function. Typically, as you receive data from a network
connection or file, you feed each received chunk of data into this
function, aborting the process if an error occurs. Once an error
is reported, no further data may be fed to the <a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a>;
all errors are fatal.</p>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.pop">
<code class="descname">pop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L2166"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.pop" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the user data passed to <a class="reference internal" href="#GLib.MarkupParseContext.push" title="GLib.MarkupParseContext.push"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.push</span></code></a>()</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
<p>Completes the process of a temporary sub-parser redirection.</p>
<p>This function exists to collect the user_data allocated by a
matching call to <a class="reference internal" href="#GLib.MarkupParseContext.push" title="GLib.MarkupParseContext.push"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.push</span></code></a>(). It must be called
in the end_element handler corresponding to the start_element
handler during which <a class="reference internal" href="#GLib.MarkupParseContext.push" title="GLib.MarkupParseContext.push"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.push</span></code></a>() was called.
You must not call this function from the error callback – the
<cite>user_data</cite> is provided directly to the callback in that case.</p>
<p>This function is not intended to be directly called by users
interested in invoking subparsers. Instead, it is intended to
be used by the subparsers themselves to implement a higher-level
interface.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.18.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>parser</em>, <em>user_data</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L2126"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.push" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>parser</strong> (<a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a>) – a <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a></li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – user data to pass to <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a> functions</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>Temporarily redirects markup data to a sub-parser.</p>
<p>This function may only be called from the start_element handler of
a <a class="reference internal" href="MarkupParser.html#GLib.MarkupParser" title="GLib.MarkupParser"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParser</span></code></a>. It must be matched with a corresponding call to
<a class="reference internal" href="#GLib.MarkupParseContext.pop" title="GLib.MarkupParseContext.pop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.pop</span></code></a>() in the matching end_element handler
(except in the case that the parser aborts due to an error).</p>
<p>All tags, text and other data between the matching tags is
redirected to the subparser given by <cite>parser</cite>. <cite>user_data</cite> is used
as the user_data for that parser. <cite>user_data</cite> is also passed to the
error callback in the event that an error occurs. This includes
errors that occur in subparsers of the subparser.</p>
<p>The end tag matching the start tag for which this call was made is
handled by the previous parser (which is given its own user_data)
which is why <a class="reference internal" href="#GLib.MarkupParseContext.pop" title="GLib.MarkupParseContext.pop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.pop</span></code></a>() is provided to allow “one
last access” to the <cite>user_data</cite> provided to this function. In the
case of error, the <cite>user_data</cite> provided here is passed directly to
the error callback of the subparser and <a class="reference internal" href="#GLib.MarkupParseContext.pop" title="GLib.MarkupParseContext.pop"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext.pop</span></code></a>()
should not be called. In either case, if <cite>user_data</cite> was allocated
then it ought to be freed from both of these locations.</p>
<p>This function is not intended to be directly called by users
interested in invoking subparsers. Instead, it is intended to be
used by the subparsers themselves to implement a higher-level
interface.</p>
<p>As an example, see the following implementation of a simple
parser that counts the number of tags encountered.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span><span class="w"> </span><span class="k">struct</span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">gint</span><span class="w"> </span><span class="n">tag_count</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"> </span><span class="n">CounterData</span><span class="p">;</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"></span>
<span class="nf">counter_start_element</span><span class="w"> </span><span class="p">(</span><span class="n">GMarkupParseContext</span><span class="w">  </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">gchar</span><span class="w">          </span><span class="o">*</span><span class="n">element_name</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">gchar</span><span class="w">         </span><span class="o">**</span><span class="n">attribute_names</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">gchar</span><span class="w">         </span><span class="o">**</span><span class="n">attribute_values</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="n">gpointer</span><span class="w">              </span><span class="n">user_data</span><span class="p">,</span><span class="w"></span>
<span class="w">                       </span><span class="n">GError</span><span class="w">              </span><span class="o">**</span><span class="n">error</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CounterData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user_data</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">data</span><span class="o">-&gt;</span><span class="n">tag_count</span><span class="o">++</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"></span>
<span class="nf">counter_error</span><span class="w"> </span><span class="p">(</span><span class="n">GMarkupParseContext</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">,</span><span class="w"></span>
<span class="w">               </span><span class="n">GError</span><span class="w">              </span><span class="o">*</span><span class="n">error</span><span class="p">,</span><span class="w"></span>
<span class="w">               </span><span class="n">gpointer</span><span class="w">             </span><span class="n">user_data</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CounterData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">user_data</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">g_slice_free</span><span class="w"> </span><span class="p">(</span><span class="n">CounterData</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="n">GMarkupParser</span><span class="w"> </span><span class="n">counter_subparser</span><span class="w"> </span><span class="o">=</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">counter_start_element</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nb">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nb">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="nb">NULL</span><span class="p">,</span><span class="w"></span>
<span class="w">  </span><span class="n">counter_error</span><span class="w"></span>
<span class="p">};</span><span class="w"></span>
</pre></div>
</div>
<p>In order to allow this parser to be easily used as a subparser, the
following interface is provided:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="kt">void</span><span class="w"></span>
<span class="nf">start_counting</span><span class="w"> </span><span class="p">(</span><span class="n">GMarkupParseContext</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CounterData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_slice_new</span><span class="w"> </span><span class="p">(</span><span class="n">CounterData</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="n">data</span><span class="o">-&gt;</span><span class="n">tag_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_markup_parse_context_push</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="o">&amp;</span><span class="n">counter_subparser</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>

<span class="n">gint</span><span class="w"></span>
<span class="nf">end_counting</span><span class="w"> </span><span class="p">(</span><span class="n">GMarkupParseContext</span><span class="w"> </span><span class="o">*</span><span class="n">context</span><span class="p">)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="n">CounterData</span><span class="w"> </span><span class="o">*</span><span class="n">data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">g_markup_parse_context_pop</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">);</span><span class="w"></span>
<span class="w">  </span><span class="kt">int</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>

<span class="w">  </span><span class="n">result</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">data</span><span class="o">-&gt;</span><span class="n">tag_count</span><span class="p">;</span><span class="w"></span>
<span class="w">  </span><span class="n">g_slice_free</span><span class="w"> </span><span class="p">(</span><span class="n">CounterData</span><span class="p">,</span><span class="w"> </span><span class="n">data</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="n">result</span><span class="p">;</span><span class="w"></span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<p>The subparser would then be used as follows:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">start_element</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">element_name</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strcmp</span><span class="w"> </span><span class="p">(</span><span class="n">element_name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;count-these&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">start_counting</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">);</span><span class="w"></span>

<span class="w">  </span><span class="c1">// else, handle other tags...</span>
<span class="p">}</span><span class="w"></span>

<span class="k">static</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">end_element</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">,</span><span class="w"> </span><span class="n">element_name</span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"></span>
<span class="p">{</span><span class="w"></span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">strcmp</span><span class="w"> </span><span class="p">(</span><span class="n">element_name</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;count-these&quot;</span><span class="p">)</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span><span class="w"></span>
<span class="w">    </span><span class="n">g_print</span><span class="w"> </span><span class="p">(</span><span class="s">&quot;Counted %d tags</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">end_counting</span><span class="w"> </span><span class="p">(</span><span class="n">context</span><span class="p">));</span><span class="w"></span>

<span class="w">  </span><span class="c1">// else, handle other tags...</span>
<span class="p">}</span><span class="w"></span>
</pre></div>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.18.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.ref">
<code class="descname">ref</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L285"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.ref" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">the same <cite>self</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#GLib.MarkupParseContext" title="GLib.MarkupParseContext"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MarkupParseContext</span></code></a></td>
</tr>
</tbody>
</table>
<p>Increases the reference count of <cite>self</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.36.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="GLib.MarkupParseContext.unref">
<code class="descname">unref</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/glib/gmarkup.c#L305"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#GLib.MarkupParseContext.unref" title="Permalink to this definition">¶</a></dt>
<dd><p>Decreases the reference count of <cite>self</cite>.  When its reference count
drops to 0, it is freed.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.36.</span></p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>
</html>