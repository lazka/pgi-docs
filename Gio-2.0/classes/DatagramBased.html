

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    Gio.DatagramBased -
    
      Interfaces -
    
    Gio 2.0
  </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/pgi.css" type="text/css" />
  

  
  <script type="text/javascript">

    function openSidebar(element) {
        window.location.href = element.href + location.hash;
        return false;
    }

    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    function onLoaded() {
        if(!inIframe()) {
            var icons = document.getElementsByClassName('open-sidebar');

            for (var i = 0; i < icons.length; i ++) {
                icons[i].style.display = 'table-cell';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', onLoaded, false);

  </script>
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Gio 2.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Interfaces" href="../interfaces.html"/>
        <link rel="next" title="Gio.DesktopAppInfoLookup" href="DesktopAppInfoLookup.html"/>
        <link rel="prev" title="Gio.DBusObjectManager" href="DBusObjectManager.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gio-2.0/classes/DatagramBased.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gio 2.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gio.DatagramBased</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="DBusObjectManager.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="DesktopAppInfoLookup.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gio.DatagramBased</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gio-2.0/classes/DatagramBased.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gio 2.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gio.DatagramBased</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="DBusObjectManager.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="DesktopAppInfoLookup.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gio.DatagramBased</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="gio-datagrambased">
<h1>Gio.DatagramBased<a class="headerlink" href="#gio-datagrambased" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<svg width="111pt" height="80pt"
 viewBox="0.00 0.00 111.00 80.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 76)">
<title>g</title>
<!-- GObject.GInterface -->
<g id="node1" class="node">
<title>GObject.GInterface</title>
<g id="a_node1"><a xlink:href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" xlink:title="GObject.GInterface">
<path fill="none" stroke="#3091d1" d="M94.5,-72C94.5,-72 8.5,-72 8.5,-72 5.5,-72 2.5,-69 2.5,-66 2.5,-66 2.5,-60 2.5,-60 2.5,-57 5.5,-54 8.5,-54 8.5,-54 94.5,-54 94.5,-54 97.5,-54 100.5,-57 100.5,-60 100.5,-60 100.5,-66 100.5,-66 100.5,-69 97.5,-72 94.5,-72"/>
<text text-anchor="middle" x="51.5" y="-60.7" font-family="inherit" font-size="8.50">GObject.GInterface</text>
</a>
</g>
</g>
<!-- Gio.DatagramBased -->
<g id="node2" class="node">
<title>Gio.DatagramBased</title>
<g id="a_node2"><a xlink:href="#Gio.DatagramBased" xlink:title="Gio.DatagramBased">
<path fill="none" stroke="#3091d1" d="M97,-18C97,-18 6,-18 6,-18 3,-18 0,-15 0,-12 0,-12 0,-6 0,-6 0,-3 3,0 6,0 6,0 97,0 97,0 100,0 103,-3 103,-6 103,-6 103,-12 103,-12 103,-15 100,-18 97,-18"/>
<text text-anchor="middle" x="51.5" y="-6.7" font-family="inherit" font-size="8.50">Gio.DatagramBased</text>
</a>
</g>
</g>
<!-- GObject.GInterface&#45;&gt;Gio.DatagramBased -->
<g id="edge1" class="edge">
<title>GObject.GInterface&#45;&gt;Gio.DatagramBased</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M51.5,-53.88C51.5,-45.76 51.5,-33.13 51.5,-23.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="53.25,-23.24 51.5,-18.24 49.75,-23.24 53.25,-23.24"/>
</g>
</g>
</svg>
</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">Implementations:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body"><a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a></td>
</tr>
</tbody>
</table>
<div class="section" id="methods">
<span id="gio-datagrambased-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-func docutils literal notranslate"><span class="pre">condition_check</span></code></a> (condition)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.condition_wait" title="Gio.DatagramBased.condition_wait"><code class="xref py py-func docutils literal notranslate"><span class="pre">condition_wait</span></code></a> (condition, timeout, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.create_source" title="Gio.DatagramBased.create_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">create_source</span></code></a> (condition, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">receive_messages</span></code></a> (messages, flags, timeout, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">send_messages</span></code></a> (messages, flags, timeout, cancellable)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="virtual-methods">
<span id="gio-datagrambased-vfuncs"></span><h2>Virtual Methods<a class="headerlink" href="#virtual-methods" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.do_condition_check" title="Gio.DatagramBased.do_condition_check"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_condition_check</span></code></a> (condition)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.do_condition_wait" title="Gio.DatagramBased.do_condition_wait"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_condition_wait</span></code></a> (condition, timeout, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.do_create_source" title="Gio.DatagramBased.do_create_source"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_create_source</span></code></a> (condition, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.do_receive_messages" title="Gio.DatagramBased.do_receive_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_receive_messages</span></code></a> (messages, flags, timeout, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#Gio.DatagramBased.do_send_messages" title="Gio.DatagramBased.do_send_messages"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_send_messages</span></code></a> (messages, flags, timeout, cancellable)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<span id="gio-datagrambased-props"></span><h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="signals">
<span id="gio-datagrambased-signals"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="fields">
<span id="gio-datagrambased-fields"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="class-details">
<h2>Class Details<a class="headerlink" href="#class-details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="Gio.DatagramBased">
<em class="property">class </em><code class="descclassname">Gio.</code><code class="descname">DatagramBased</code><a class="headerlink" href="#Gio.DatagramBased" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Bases:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" title="(in GObject 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GObject.GInterface</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Structure:</th><td class="field-body"><a class="reference internal" href="DatagramBasedInterface.html#Gio.DatagramBasedInterface" title="Gio.DatagramBasedInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gio.DatagramBasedInterface</span></code></a></td>
</tr>
</tbody>
</table>
<p>A <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> is a networking interface for representing datagram-based
communications. It is a more or less direct mapping of the core parts of the
BSD socket API in a portable <a class="reference external" href="../../GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GObject.Object</span></code></a> interface. It is implemented by
<a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, which wraps the UNIX socket API on UNIX and winsock2 on Windows.</p>
<p><a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> is entirely platform independent, and is intended to be used
alongside higher-level networking APIs such as <a class="reference internal" href="IOStream.html#Gio.IOStream" title="Gio.IOStream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOStream</span></code></a>.</p>
<p>It uses vectored scatter/gather I/O by default, allowing for many messages
to be sent or received in a single call. Where possible, implementations of
the interface should take advantage of vectored I/O to minimise processing
or system calls. For example, <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a> uses recvmmsg() and sendmmsg() where
possible. Callers should take advantage of scatter/gather I/O (the use of
multiple buffers per message) to avoid unnecessary copying of data to
assemble or disassemble a message.</p>
<p>Each <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> operation has a timeout parameter which may be negative
for blocking behaviour, zero for non-blocking behaviour, or positive for
timeout behaviour. A blocking operation blocks until finished or there is an
error. A non-blocking operation will return immediately with a
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> error if it cannot make progress. A timeout operation
will block until the operation is complete or the timeout expires; if the
timeout expires it will return what progress it made, or
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a> if no progress was made. To know when a call would
successfully run you can call <a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_check</span></code></a>() or
<a class="reference internal" href="#Gio.DatagramBased.condition_wait" title="Gio.DatagramBased.condition_wait"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_wait</span></code></a>(). You can also use
<a class="reference internal" href="#Gio.DatagramBased.create_source" title="Gio.DatagramBased.create_source"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.create_source</span></code></a>() and attach it to a <a class="reference external" href="../../GLib-2.0/classes/MainContext.html#GLib.MainContext" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MainContext</span></code></a> to get
callbacks when I/O is possible.</p>
<p>When running a non-blocking operation applications should always be able to
handle getting a <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> error even when some other function
said that I/O was possible. This can easily happen in case of a race
condition in the application, but it can also happen for other reasons. For
instance, on Windows a socket is always seen as writable until a write
returns <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a>.</p>
<p>As with <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBaseds</span></code></a> can be either connection oriented (for
example, SCTP) or connectionless (for example, UDP). <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBaseds</span></code></a> must be
datagram-based, not stream-based. The interface does not cover connection
establishment — use methods on the underlying type to establish a connection
before sending and receiving data through the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> API. For
connectionless socket types the target/source address is specified or
received in each I/O operation.</p>
<p>Like most other APIs in GLib, <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> is not inherently thread safe.
To use a <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> concurrently from multiple threads, you must
implement your own locking.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
<dl class="method">
<dt id="Gio.DatagramBased.condition_check">
<code class="descname">condition_check</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gdatagrambased.c#L400"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.DatagramBased.condition_check" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask of the current state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a></td>
</tr>
</tbody>
</table>
<p>Checks on the readiness of <cite>self</cite> to perform operations. The
operations specified in <cite>condition</cite> are checked for and masked against the
currently-satisfied conditions on <cite>self</cite>. The result is returned.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> will be set in the return value if data is available to read with
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>(), or if the connection is closed remotely
(EOS); and if the datagram_based has not been closed locally using some
implementation-specific method (such as <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>).</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> will be set if it is expected that at least one byte can be sent
using <a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>() without blocking. It will not be set
if the datagram_based has been closed locally.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> will be set if the connection has been closed locally.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> will be set if there was an asynchronous error in transmitting data
previously enqueued using <a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>().</p>
<p>Note that on Windows, it is possible for an operation to return
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> even immediately after
<a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_check</span></code></a>() has claimed that the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> is
ready for writing. Rather than calling <a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_check</span></code></a>() and
then writing to the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> if it succeeds, it is generally better to
simply try writing right away, and try again later if the initial attempt
returns <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a>.</p>
<p>It is meaningless to specify <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> or <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> in <cite>condition</cite>; these
conditions will always be set in the output if they are true. Apart from
these flags, the output is guaranteed to be masked by <cite>condition</cite>.</p>
<p>This call never blocks.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.condition_wait">
<code class="descname">condition_wait</code><span class="sig-paren">(</span><em>condition</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gdatagrambased.c#L450"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.DatagramBased.condition_wait" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to wait for</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the condition was met, <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Waits for up to <cite>timeout</cite> microseconds for condition to become true on
<cite>self</cite>. If the condition is met, <a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> is returned.</p>
<p>If <cite>cancellable</cite> is cancelled before the condition is met, or if <cite>timeout</cite> is
reached before the condition is met, then <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> is returned and <cite>error</cite> is
set appropriately (<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> or <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.create_source">
<code class="descname">create_source</code><span class="sig-paren">(</span><em>condition</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gdatagrambased.c#L338"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.DatagramBased.create_source" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to monitor</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a newly allocated <a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Creates a <a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a> that can be attached to a <a class="reference external" href="../../GLib-2.0/classes/MainContext.html#GLib.MainContext" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MainContext</span></code></a> to monitor for
the availability of the specified <cite>condition</cite> on the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a>. The
<a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a> keeps a reference to the <cite>self</cite>.</p>
<p>The callback on the source is of the <a class="reference internal" href="../callbacks.html#Gio.DatagramBasedSourceFunc" title="Gio.DatagramBasedSourceFunc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBasedSourceFunc</span></code></a> type.</p>
<p>It is meaningless to specify <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> or <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> in <cite>condition</cite>; these
conditions will always be reported in the callback if they are true.</p>
<p>If non-<a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, <cite>cancellable</cite> can be used to cancel the source, which will
cause the source to trigger, reporting the current condition (which is
likely 0 unless cancellation happened at the same time as a condition
change). You can check for this in the callback using
<a class="reference internal" href="Cancellable.html#Gio.Cancellable.is_cancelled" title="Gio.Cancellable.is_cancelled"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable.is_cancelled</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.receive_messages">
<code class="descname">receive_messages</code><span class="sig-paren">(</span><em>messages</em>, <em>flags</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gdatagrambased.c#L174"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.DatagramBased.receive_messages" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>messages</strong> ([<a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a>]) – an array of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> structs</li>
<li><strong>flags</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – an int containing <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> flags for the overall operation</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">number of messages received, or -1 on error. Note that the number
of messages received may be smaller than <cite>num_messages</cite> if <cite>timeout</cite> is
zero or positive, if the peer closed the connection, or if <cite>num_messages</cite>
was larger than <code class="docutils literal notranslate"><span class="pre">UIO_MAXIOV</span></code> (1024), in which case the caller may re-try
to receive the remaining messages.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Receive one or more data messages from <cite>self</cite> in one go.</p>
<p><cite>messages</cite> must point to an array of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> structs and
<cite>num_messages</cite> must be the length of this array. Each <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a>
contains a pointer to an array of <a class="reference internal" href="InputVector.html#Gio.InputVector" title="Gio.InputVector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputVector</span></code></a> structs describing the
buffers that the data received in each message will be written to.</p>
<p><cite>flags</cite> modify how all messages are received. The commonly available
arguments for this are available in the <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too. These
flags affect the overall receive operation. Flags affecting individual
messages are returned in <a class="reference internal" href="InputMessage.html#gio-inputmessage-fields"><span class="std std-ref">Gio.InputMessage.flags</span></a>.</p>
<p>The other members of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> are treated as described in its
documentation.</p>
<p>If <cite>timeout</cite> is negative the call will block until <cite>num_messages</cite> have been
received, the connection is closed remotely (EOS), <cite>cancellable</cite> is cancelled,
or an error occurs.</p>
<p>If <cite>timeout</cite> is 0 the call will return up to <cite>num_messages</cite> without blocking,
or <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> if no messages are queued in the operating system
to be received.</p>
<p>If <cite>timeout</cite> is positive the call will block on the same conditions as if
<cite>timeout</cite> were negative. If the timeout is reached
before any messages are received, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a> is returned,
otherwise it will return the number of messages received before timing out.
(Note: This is effectively the behaviour of <code class="docutils literal notranslate"><span class="pre">MSG_WAITFORONE</span></code> with
recvmmsg().)</p>
<p>To be notified when messages are available, wait for the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> condition.
Note though that you may still receive <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> from
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>() even if you were previously notified of a
<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> condition.</p>
<p>If the remote peer closes the connection, any messages queued in the
underlying receive buffer will be returned, and subsequent calls to
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>() will return 0 (with no error set).</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p>On error -1 is returned and <cite>error</cite> is set accordingly. An error will only
be returned if zero messages could be received; otherwise the number of
messages successfully received before the error will be returned. If
<cite>cancellable</cite> is cancelled, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> is returned as with any
other error.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.send_messages">
<code class="descname">send_messages</code><span class="sig-paren">(</span><em>messages</em>, <em>flags</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/glib/blob/2.66.2/gio/gdatagrambased.c#L275"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#Gio.DatagramBased.send_messages" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>messages</strong> ([<a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a>]) – an array of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> structs</li>
<li><strong>flags</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – an int containing <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> flags</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">number of messages sent, or -1 on error. Note that the number of
messages sent may be smaller than <cite>num_messages</cite> if <cite>timeout</cite> is zero
or positive, or if <cite>num_messages</cite> was larger than <code class="docutils literal notranslate"><span class="pre">UIO_MAXIOV</span></code> (1024), in
which case the caller may re-try to send the remaining messages.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Send one or more data messages from <cite>self</cite> in one go.</p>
<p><cite>messages</cite> must point to an array of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> structs and
<cite>num_messages</cite> must be the length of this array. Each <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a>
contains an address to send the data to, and a pointer to an array of
<a class="reference internal" href="OutputVector.html#Gio.OutputVector" title="Gio.OutputVector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputVector</span></code></a> structs to describe the buffers that the data to be sent
for each message will be gathered from.</p>
<p><cite>flags</cite> modify how the message is sent. The commonly available arguments
for this are available in the <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too.</p>
<p>The other members of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> are treated as described in its
documentation.</p>
<p>If <cite>timeout</cite> is negative the call will block until <cite>num_messages</cite> have been
sent, <cite>cancellable</cite> is cancelled, or an error occurs.</p>
<p>If <cite>timeout</cite> is 0 the call will send up to <cite>num_messages</cite> without blocking,
or will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> if there is no space to send messages.</p>
<p>If <cite>timeout</cite> is positive the call will block on the same conditions as if
<cite>timeout</cite> were negative. If the timeout is reached before any messages are
sent, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a> is returned, otherwise it will return the number
of messages sent before timing out.</p>
<p>To be notified when messages can be sent, wait for the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> condition.
Note though that you may still receive <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> from
<a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>() even if you were previously notified of a
<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> condition. (On Windows in particular, this is very common due to
the way the underlying APIs work.)</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_write</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p>On error -1 is returned and <cite>error</cite> is set accordingly. An error will only
be returned if zero messages could be sent; otherwise the number of messages
successfully sent before the error will be returned. If <cite>cancellable</cite> is
cancelled, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> is returned as with any other error.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.do_condition_check">
<code class="descname">do_condition_check</code><span class="sig-paren">(</span><em>condition</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.DatagramBased.do_condition_check" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to check</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask of the current state</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a></td>
</tr>
</tbody>
</table>
<p>Checks on the readiness of <cite>datagram_based</cite> to perform operations. The
operations specified in <cite>condition</cite> are checked for and masked against the
currently-satisfied conditions on <cite>datagram_based</cite>. The result is returned.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> will be set in the return value if data is available to read with
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>(), or if the connection is closed remotely
(EOS); and if the datagram_based has not been closed locally using some
implementation-specific method (such as <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>).</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> will be set if it is expected that at least one byte can be sent
using <a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>() without blocking. It will not be set
if the datagram_based has been closed locally.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> will be set if the connection has been closed locally.</p>
<p><a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> will be set if there was an asynchronous error in transmitting data
previously enqueued using <a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>().</p>
<p>Note that on Windows, it is possible for an operation to return
<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> even immediately after
<a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_check</span></code></a>() has claimed that the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> is
ready for writing. Rather than calling <a class="reference internal" href="#Gio.DatagramBased.condition_check" title="Gio.DatagramBased.condition_check"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.condition_check</span></code></a>() and
then writing to the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a> if it succeeds, it is generally better to
simply try writing right away, and try again later if the initial attempt
returns <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a>.</p>
<p>It is meaningless to specify <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> or <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> in <cite>condition</cite>; these
conditions will always be set in the output if they are true. Apart from
these flags, the output is guaranteed to be masked by <cite>condition</cite>.</p>
<p>This call never blocks.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.do_condition_wait">
<code class="descname">do_condition_wait</code><span class="sig-paren">(</span><em>condition</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.DatagramBased.do_condition_wait" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to wait for</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> if the condition was met, <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> otherwise</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Waits for up to <cite>timeout</cite> microseconds for condition to become true on
<cite>datagram_based</cite>. If the condition is met, <a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> is returned.</p>
<p>If <cite>cancellable</cite> is cancelled before the condition is met, or if <cite>timeout</cite> is
reached before the condition is met, then <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> is returned and <cite>error</cite> is
set appropriately (<a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> or <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a>).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.do_create_source">
<code class="descname">do_create_source</code><span class="sig-paren">(</span><em>condition</em>, <em>cancellable</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.DatagramBased.do_create_source" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>condition</strong> (<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a>) – a <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition</span></code></a> mask to monitor</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a newly allocated <a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Creates a <a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a> that can be attached to a <a class="reference external" href="../../GLib-2.0/classes/MainContext.html#GLib.MainContext" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.MainContext</span></code></a> to monitor for
the availability of the specified <cite>condition</cite> on the <a class="reference internal" href="#Gio.DatagramBased" title="Gio.DatagramBased"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased</span></code></a>. The
<a class="reference external" href="../../GLib-2.0/classes/Source.html#GLib.Source" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.Source</span></code></a> keeps a reference to the <cite>datagram_based</cite>.</p>
<p>The callback on the source is of the <a class="reference internal" href="../callbacks.html#Gio.DatagramBasedSourceFunc" title="Gio.DatagramBasedSourceFunc"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBasedSourceFunc</span></code></a> type.</p>
<p>It is meaningless to specify <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.ERR" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.ERR</span></code></a> or <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.HUP" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.HUP</span></code></a> in <cite>condition</cite>; these
conditions will always be reported in the callback if they are true.</p>
<p>If non-<a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, <cite>cancellable</cite> can be used to cancel the source, which will
cause the source to trigger, reporting the current condition (which is
likely 0 unless cancellation happened at the same time as a condition
change). You can check for this in the callback using
<a class="reference internal" href="Cancellable.html#Gio.Cancellable.is_cancelled" title="Gio.Cancellable.is_cancelled"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable.is_cancelled</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.do_receive_messages">
<code class="descname">do_receive_messages</code><span class="sig-paren">(</span><em>messages</em>, <em>flags</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.DatagramBased.do_receive_messages" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>messages</strong> ([<a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a>]) – an array of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> structs</li>
<li><strong>flags</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – an int containing <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> flags for the overall operation</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">number of messages received, or -1 on error. Note that the number
of messages received may be smaller than <cite>num_messages</cite> if <cite>timeout</cite> is
zero or positive, if the peer closed the connection, or if <cite>num_messages</cite>
was larger than <code class="docutils literal notranslate"><span class="pre">UIO_MAXIOV</span></code> (1024), in which case the caller may re-try
to receive the remaining messages.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Receive one or more data messages from <cite>datagram_based</cite> in one go.</p>
<p><cite>messages</cite> must point to an array of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> structs and
<cite>num_messages</cite> must be the length of this array. Each <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a>
contains a pointer to an array of <a class="reference internal" href="InputVector.html#Gio.InputVector" title="Gio.InputVector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputVector</span></code></a> structs describing the
buffers that the data received in each message will be written to.</p>
<p><cite>flags</cite> modify how all messages are received. The commonly available
arguments for this are available in the <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too. These
flags affect the overall receive operation. Flags affecting individual
messages are returned in <a class="reference internal" href="InputMessage.html#gio-inputmessage-fields"><span class="std std-ref">Gio.InputMessage.flags</span></a>.</p>
<p>The other members of <a class="reference internal" href="InputMessage.html#Gio.InputMessage" title="Gio.InputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.InputMessage</span></code></a> are treated as described in its
documentation.</p>
<p>If <cite>timeout</cite> is negative the call will block until <cite>num_messages</cite> have been
received, the connection is closed remotely (EOS), <cite>cancellable</cite> is cancelled,
or an error occurs.</p>
<p>If <cite>timeout</cite> is 0 the call will return up to <cite>num_messages</cite> without blocking,
or <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> if no messages are queued in the operating system
to be received.</p>
<p>If <cite>timeout</cite> is positive the call will block on the same conditions as if
<cite>timeout</cite> were negative. If the timeout is reached
before any messages are received, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a> is returned,
otherwise it will return the number of messages received before timing out.
(Note: This is effectively the behaviour of <code class="docutils literal notranslate"><span class="pre">MSG_WAITFORONE</span></code> with
recvmmsg().)</p>
<p>To be notified when messages are available, wait for the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> condition.
Note though that you may still receive <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> from
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>() even if you were previously notified of a
<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.IN" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.IN</span></code></a> condition.</p>
<p>If the remote peer closes the connection, any messages queued in the
underlying receive buffer will be returned, and subsequent calls to
<a class="reference internal" href="#Gio.DatagramBased.receive_messages" title="Gio.DatagramBased.receive_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.receive_messages</span></code></a>() will return 0 (with no error set).</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_read</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p>On error -1 is returned and <cite>error</cite> is set accordingly. An error will only
be returned if zero messages could be received; otherwise the number of
messages successfully received before the error will be returned. If
<cite>cancellable</cite> is cancelled, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> is returned as with any
other error.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="Gio.DatagramBased.do_send_messages">
<code class="descname">do_send_messages</code><span class="sig-paren">(</span><em>messages</em>, <em>flags</em>, <em>timeout</em>, <em>cancellable</em><span class="sig-paren">)</span><em class="property"> virtual</em><a class="headerlink" href="#Gio.DatagramBased.do_send_messages" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>messages</strong> ([<a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a>]) – an array of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> structs</li>
<li><strong>flags</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – an int containing <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> flags</li>
<li><strong>timeout</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – the maximum time (in microseconds) to wait, 0 to not block, or -1
to block indefinitely</li>
<li><strong>cancellable</strong> (<a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – a <a class="reference internal" href="Cancellable.html#Gio.Cancellable" title="Gio.Cancellable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">number of messages sent, or -1 on error. Note that the number of
messages sent may be smaller than <cite>num_messages</cite> if <cite>timeout</cite> is zero
or positive, or if <cite>num_messages</cite> was larger than <code class="docutils literal notranslate"><span class="pre">UIO_MAXIOV</span></code> (1024), in
which case the caller may re-try to send the remaining messages.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Send one or more data messages from <cite>datagram_based</cite> in one go.</p>
<p><cite>messages</cite> must point to an array of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> structs and
<cite>num_messages</cite> must be the length of this array. Each <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a>
contains an address to send the data to, and a pointer to an array of
<a class="reference internal" href="OutputVector.html#Gio.OutputVector" title="Gio.OutputVector"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputVector</span></code></a> structs to describe the buffers that the data to be sent
for each message will be gathered from.</p>
<p><cite>flags</cite> modify how the message is sent. The commonly available arguments
for this are available in the <a class="reference internal" href="../flags.html#Gio.SocketMsgFlags" title="Gio.SocketMsgFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.SocketMsgFlags</span></code></a> enum, but the
values there are the same as the system values, and the flags
are passed in as-is, so you can pass in system-specific flags too.</p>
<p>The other members of <a class="reference internal" href="OutputMessage.html#Gio.OutputMessage" title="Gio.OutputMessage"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.OutputMessage</span></code></a> are treated as described in its
documentation.</p>
<p>If <cite>timeout</cite> is negative the call will block until <cite>num_messages</cite> have been
sent, <cite>cancellable</cite> is cancelled, or an error occurs.</p>
<p>If <cite>timeout</cite> is 0 the call will send up to <cite>num_messages</cite> without blocking,
or will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> if there is no space to send messages.</p>
<p>If <cite>timeout</cite> is positive the call will block on the same conditions as if
<cite>timeout</cite> were negative. If the timeout is reached before any messages are
sent, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.TIMED_OUT" title="Gio.IOErrorEnum.TIMED_OUT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.TIMED_OUT</span></code></a> is returned, otherwise it will return the number
of messages sent before timing out.</p>
<p>To be notified when messages can be sent, wait for the <a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> condition.
Note though that you may still receive <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.WOULD_BLOCK" title="Gio.IOErrorEnum.WOULD_BLOCK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.WOULD_BLOCK</span></code></a> from
<a class="reference internal" href="#Gio.DatagramBased.send_messages" title="Gio.DatagramBased.send_messages"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.DatagramBased.send_messages</span></code></a>() even if you were previously notified of a
<a class="reference external" href="../../GLib-2.0/flags.html#GLib.IOCondition.OUT" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.IOCondition.OUT</span></code></a> condition. (On Windows in particular, this is very common due to
the way the underlying APIs work.)</p>
<p>If the connection is shut down or closed (by calling <a class="reference internal" href="Socket.html#Gio.Socket.close" title="Gio.Socket.close"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.close</span></code></a>() or
<a class="reference internal" href="Socket.html#Gio.Socket.shutdown" title="Gio.Socket.shutdown"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket.shutdown</span></code></a>() with <cite>shutdown_write</cite> set, if it’s a <a class="reference internal" href="Socket.html#Gio.Socket" title="Gio.Socket"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Socket</span></code></a>, for
example), all calls to this function will return <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CLOSED" title="Gio.IOErrorEnum.CLOSED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CLOSED</span></code></a>.</p>
<p>On error -1 is returned and <cite>error</cite> is set accordingly. An error will only
be returned if zero messages could be sent; otherwise the number of messages
successfully sent before the error will be returned. If <cite>cancellable</cite> is
cancelled, <a class="reference internal" href="../enums.html#Gio.IOErrorEnum.CANCELLED" title="Gio.IOErrorEnum.CANCELLED"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.IOErrorEnum.CANCELLED</span></code></a> is returned as with any other error.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2.48.</span></p>
</div>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>
</html>