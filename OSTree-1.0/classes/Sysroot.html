

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>
    OSTree.Sysroot -
    
      Classes -
    
    OSTree 1.0
  </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/pgi.css" type="text/css" />
  

  
  <script type="text/javascript">

    function openSidebar(element) {
        window.location.href = element.href + location.hash;
        return false;
    }

    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    function onLoaded() {
        if(!inIframe()) {
            var icons = document.getElementsByClassName('open-sidebar');

            for (var i = 0; i < icons.length; i ++) {
                icons[i].style.display = 'table-cell';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', onLoaded, false);

  </script>
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="OSTree 1.0 Python API Docs" href="../index.html"/>
        <link rel="up" title="Classes" href="../classes.html"/>
        <link rel="next" title="OSTree.SysrootUpgrader" href="SysrootUpgrader.html"/>
        <link rel="prev" title="OSTree.SePolicy" href="SePolicy.html"/> 
</head>

<body class="wy-body-for-nav" role="document">

<div class="non-fixed-bar">
<table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#OSTree-1.0/classes/Sysroot.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">OSTree 1.0</a> &raquo;</li>
      
          <li><a href="../classes.html">Classes</a> &raquo;</li>
      
    <li>OSTree.Sysroot</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../classes.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="SePolicy.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="SysrootUpgrader.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">OSTree.Sysroot</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#signal-details">Signal Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#OSTree-1.0/classes/Sysroot.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">OSTree 1.0</a> &raquo;</li>
      
          <li><a href="../classes.html">Classes</a> &raquo;</li>
      
    <li>OSTree.Sysroot</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../classes.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="SePolicy.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="SysrootUpgrader.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">OSTree.Sysroot</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#signal-details">Signal Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <div class="section" id="ostree-sysroot">
<h1>OSTree.Sysroot<a class="headerlink" href="#ostree-sysroot" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<svg width="88pt" height="80pt"
 viewBox="0.00 0.00 88.00 80.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 76)">
<title>g</title>
<!-- GObject.Object -->
<g id="node1" class="node">
<title>GObject.Object</title>
<g id="a_node1"><a xlink:href="../../GObject-2.0/classes/Object.html#GObject.Object" xlink:title="GObject.Object">
<path fill="none" stroke="#75507b" d="M74,-72C74,-72 6,-72 6,-72 3,-72 0,-69 0,-66 0,-66 0,-60 0,-60 0,-57 3,-54 6,-54 6,-54 74,-54 74,-54 77,-54 80,-57 80,-60 80,-60 80,-66 80,-66 80,-69 77,-72 74,-72"/>
<text text-anchor="middle" x="40" y="-60.7" font-family="inherit" font-size="8.50">GObject.Object</text>
</a>
</g>
</g>
<!-- OSTree.Sysroot -->
<g id="node2" class="node">
<title>OSTree.Sysroot</title>
<g id="a_node2"><a xlink:href="#OSTree.Sysroot" xlink:title="OSTree.Sysroot">
<path fill="none" stroke="#75507b" d="M74,-18C74,-18 6,-18 6,-18 3,-18 0,-15 0,-12 0,-12 0,-6 0,-6 0,-3 3,0 6,0 6,0 74,0 74,0 77,0 80,-3 80,-6 80,-6 80,-12 80,-12 80,-15 77,-18 74,-18"/>
<text text-anchor="middle" x="40" y="-6.7" font-family="inherit" font-size="8.50">OSTree.Sysroot</text>
</a>
</g>
</g>
<!-- GObject.Object&#45;&gt;OSTree.Sysroot -->
<g id="edge1" class="edge">
<title>GObject.Object&#45;&gt;OSTree.Sysroot</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M40,-53.88C40,-45.76 40,-33.13 40,-23.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="41.75,-23.24 40,-18.24 38.25,-23.24 41.75,-23.24"/>
</g>
</g>
</svg>
</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Subclasses:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
<div class="section" id="methods">
<span id="ostree-sysroot-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/Object.html#gobject-object-methods" title="(in GObject 2.0 v2.0)"><span class="xref std std-ref">GObject.Object (37)</span></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Structs:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/ObjectClass.html#gobject-objectclass-methods" title="(in GObject 2.0 v2.0)"><span class="xref std std-ref">GObject.ObjectClass (5)</span></a></td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="99%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td><em>class</em></td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_deployment_origin_path" title="OSTree.Sysroot.get_deployment_origin_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_deployment_origin_path</span></code></a> (deployment_path)</td>
</tr>
<tr class="row-even"><td><em>class</em></td>
<td><a class="reference internal" href="#OSTree.Sysroot.new" title="OSTree.Sysroot.new"><code class="xref py py-func docutils literal notranslate"><span class="pre">new</span></code></a> (path)</td>
</tr>
<tr class="row-odd"><td><em>class</em></td>
<td><a class="reference internal" href="#OSTree.Sysroot.new_default" title="OSTree.Sysroot.new_default"><code class="xref py py-func docutils literal notranslate"><span class="pre">new_default</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.cleanup" title="OSTree.Sysroot.cleanup"><code class="xref py py-func docutils literal notranslate"><span class="pre">cleanup</span></code></a> (cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.cleanup_prune_repo" title="OSTree.Sysroot.cleanup_prune_repo"><code class="xref py py-func docutils literal notranslate"><span class="pre">cleanup_prune_repo</span></code></a> (options, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deploy_tree" title="OSTree.Sysroot.deploy_tree"><code class="xref py py-func docutils literal notranslate"><span class="pre">deploy_tree</span></code></a> (osname, revision, origin, provided_merge_deployment, override_kernel_argv, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deploy_tree_with_options" title="OSTree.Sysroot.deploy_tree_with_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">deploy_tree_with_options</span></code></a> (osname, revision, origin, provided_merge_deployment, opts, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deployment_set_kargs" title="OSTree.Sysroot.deployment_set_kargs"><code class="xref py py-func docutils literal notranslate"><span class="pre">deployment_set_kargs</span></code></a> (deployment, new_kargs, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deployment_set_mutable" title="OSTree.Sysroot.deployment_set_mutable"><code class="xref py py-func docutils literal notranslate"><span class="pre">deployment_set_mutable</span></code></a> (deployment, is_mutable, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deployment_set_pinned" title="OSTree.Sysroot.deployment_set_pinned"><code class="xref py py-func docutils literal notranslate"><span class="pre">deployment_set_pinned</span></code></a> (deployment, is_pinned)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.deployment_unlock" title="OSTree.Sysroot.deployment_unlock"><code class="xref py py-func docutils literal notranslate"><span class="pre">deployment_unlock</span></code></a> (deployment, unlocked_state, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.ensure_initialized" title="OSTree.Sysroot.ensure_initialized"><code class="xref py py-func docutils literal notranslate"><span class="pre">ensure_initialized</span></code></a> (cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_booted_deployment" title="OSTree.Sysroot.get_booted_deployment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_booted_deployment</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_bootversion" title="OSTree.Sysroot.get_bootversion"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_bootversion</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_deployment_directory" title="OSTree.Sysroot.get_deployment_directory"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_deployment_directory</span></code></a> (deployment)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_deployment_dirpath" title="OSTree.Sysroot.get_deployment_dirpath"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_deployment_dirpath</span></code></a> (deployment)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_deployments" title="OSTree.Sysroot.get_deployments"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_deployments</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_fd" title="OSTree.Sysroot.get_fd"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_fd</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_merge_deployment" title="OSTree.Sysroot.get_merge_deployment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_merge_deployment</span></code></a> (osname)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_path" title="OSTree.Sysroot.get_path"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_path</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_repo" title="OSTree.Sysroot.get_repo"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_repo</span></code></a> (cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_staged_deployment" title="OSTree.Sysroot.get_staged_deployment"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_staged_deployment</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.get_subbootversion" title="OSTree.Sysroot.get_subbootversion"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_subbootversion</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.init_osname" title="OSTree.Sysroot.init_osname"><code class="xref py py-func docutils literal notranslate"><span class="pre">init_osname</span></code></a> (osname, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.initialize" title="OSTree.Sysroot.initialize"><code class="xref py py-func docutils literal notranslate"><span class="pre">initialize</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.is_booted" title="OSTree.Sysroot.is_booted"><code class="xref py py-func docutils literal notranslate"><span class="pre">is_booted</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-func docutils literal notranslate"><span class="pre">load</span></code></a> (cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.load_if_changed" title="OSTree.Sysroot.load_if_changed"><code class="xref py py-func docutils literal notranslate"><span class="pre">load_if_changed</span></code></a> (cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.lock" title="OSTree.Sysroot.lock"><code class="xref py py-func docutils literal notranslate"><span class="pre">lock</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.lock_async" title="OSTree.Sysroot.lock_async"><code class="xref py py-func docutils literal notranslate"><span class="pre">lock_async</span></code></a> (cancellable, callback, *user_data)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.lock_finish" title="OSTree.Sysroot.lock_finish"><code class="xref py py-func docutils literal notranslate"><span class="pre">lock_finish</span></code></a> (result)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.origin_new_from_refspec" title="OSTree.Sysroot.origin_new_from_refspec"><code class="xref py py-func docutils literal notranslate"><span class="pre">origin_new_from_refspec</span></code></a> (refspec)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.prepare_cleanup" title="OSTree.Sysroot.prepare_cleanup"><code class="xref py py-func docutils literal notranslate"><span class="pre">prepare_cleanup</span></code></a> (cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.query_deployments_for" title="OSTree.Sysroot.query_deployments_for"><code class="xref py py-func docutils literal notranslate"><span class="pre">query_deployments_for</span></code></a> (osname)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.repo" title="OSTree.Sysroot.repo"><code class="xref py py-func docutils literal notranslate"><span class="pre">repo</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.set_mount_namespace_in_use" title="OSTree.Sysroot.set_mount_namespace_in_use"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_mount_namespace_in_use</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.simple_write_deployment" title="OSTree.Sysroot.simple_write_deployment"><code class="xref py py-func docutils literal notranslate"><span class="pre">simple_write_deployment</span></code></a> (osname, new_deployment, merge_deployment, flags, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.stage_overlay_initrd" title="OSTree.Sysroot.stage_overlay_initrd"><code class="xref py py-func docutils literal notranslate"><span class="pre">stage_overlay_initrd</span></code></a> (fd, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.stage_tree" title="OSTree.Sysroot.stage_tree"><code class="xref py py-func docutils literal notranslate"><span class="pre">stage_tree</span></code></a> (osname, revision, origin, merge_deployment, override_kernel_argv, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.stage_tree_with_options" title="OSTree.Sysroot.stage_tree_with_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">stage_tree_with_options</span></code></a> (osname, revision, origin, merge_deployment, opts, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.try_lock" title="OSTree.Sysroot.try_lock"><code class="xref py py-func docutils literal notranslate"><span class="pre">try_lock</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.unload" title="OSTree.Sysroot.unload"><code class="xref py py-func docutils literal notranslate"><span class="pre">unload</span></code></a> ()</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.unlock" title="OSTree.Sysroot.unlock"><code class="xref py py-func docutils literal notranslate"><span class="pre">unlock</span></code></a> ()</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.write_deployments" title="OSTree.Sysroot.write_deployments"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_deployments</span></code></a> (new_deployments, cancellable)</td>
</tr>
<tr class="row-odd"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.write_deployments_with_options" title="OSTree.Sysroot.write_deployments_with_options"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_deployments_with_options</span></code></a> (new_deployments, opts, cancellable)</td>
</tr>
<tr class="row-even"><td>&#160;</td>
<td><a class="reference internal" href="#OSTree.Sysroot.write_origin_file" title="OSTree.Sysroot.write_origin_file"><code class="xref py py-func docutils literal notranslate"><span class="pre">write_origin_file</span></code></a> (deployment, new_origin, cancellable)</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="virtual-methods">
<span id="ostree-sysroot-vfuncs"></span><h2>Virtual Methods<a class="headerlink" href="#virtual-methods" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/Object.html#gobject-object-vfuncs" title="(in GObject 2.0 v2.0)"><span class="xref std std-ref">GObject.Object (7)</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="properties">
<span id="ostree-sysroot-props"></span><h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="1%" />
<col width="1%" />
<col width="1%" />
<col width="97%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Type</th>
<th class="head">Flags</th>
<th class="head">Short Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#OSTree.Sysroot.props.path" title="OSTree.Sysroot.props.path"><code class="xref py py-data docutils literal notranslate"><span class="pre">path</span></code></a></td>
<td><a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a></td>
<td>r/w/co</td>
<td>&#160;</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="signals">
<span id="ostree-sysroot-signals"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/Object.html#gobject-object-signals" title="(in GObject 2.0 v2.0)"><span class="xref std std-ref">GObject.Object (1)</span></a></td>
</tr>
</tbody>
</table>
<table border="1" class="colwidths-given docutils">
<colgroup>
<col width="30%" />
<col width="70%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Name</th>
<th class="head">Short Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="#OSTree.Sysroot.signals.journal_msg" title="OSTree.Sysroot.signals.journal_msg"><code class="xref py py-func docutils literal notranslate"><span class="pre">journal-msg</span></code></a></td>
<td>libostree will log to the journal various events, such as the /etc merge status, and transaction completion.</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="fields">
<span id="ostree-sysroot-fields"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Inherited:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/Object.html#gobject-object-fields" title="(in GObject 2.0 v2.0)"><span class="xref std std-ref">GObject.Object (1)</span></a></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="class-details">
<h2>Class Details<a class="headerlink" href="#class-details" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="OSTree.Sysroot">
<em class="property">class </em><code class="descclassname">OSTree.</code><code class="descname">Sysroot</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Bases:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GObject.Object</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Abstract:</th><td class="field-body">No</td>
</tr>
</tbody>
</table>
<dl class="classmethod">
<dt id="OSTree.Sysroot.get_deployment_origin_path">
<em class="property">classmethod </em><code class="descname">get_deployment_origin_path</code><span class="sig-paren">(</span><em>deployment_path</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_deployment_origin_path" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deployment_path</strong> (<a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a>) – A deployment path</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Path to deployment origin file</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="OSTree.Sysroot.new">
<em class="property">classmethod </em><code class="descname">new</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.new" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>path</strong> (<a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Path to a system root directory, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> to use the
current visible root file system</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An accessor object for an system root located at <cite>path</cite></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#OSTree.Sysroot" title="OSTree.Sysroot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot</span></code></a></td>
</tr>
</tbody>
</table>
<p>Create a new <a class="reference internal" href="#OSTree.Sysroot" title="OSTree.Sysroot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot</span></code></a> object for the sysroot at <cite>path</cite>. If <cite>path</cite> is <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>,
the current visible root file system is used, equivalent to
<a class="reference internal" href="#OSTree.Sysroot.new_default" title="OSTree.Sysroot.new_default"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.new_default</span></code></a>().</p>
</dd></dl>

<dl class="classmethod">
<dt id="OSTree.Sysroot.new_default">
<em class="property">classmethod </em><code class="descname">new_default</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.new_default" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An accessor for the current visible root / filesystem</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#OSTree.Sysroot" title="OSTree.Sysroot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.cleanup">
<code class="descname">cleanup</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.cleanup" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Delete any state that resulted from a partially completed
transaction, such as incomplete deployments.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.cleanup_prune_repo">
<code class="descname">cleanup_prune_repo</code><span class="sig-paren">(</span><em>options</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.cleanup_prune_repo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>options</strong> (<a class="reference internal" href="RepoPruneOptions.html#OSTree.RepoPruneOptions" title="OSTree.RepoPruneOptions"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.RepoPruneOptions</span></code></a>) – Flags controlling pruning</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">out_objects_total:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Number of objects found</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">out_objects_pruned:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Number of objects deleted</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">out_pruned_object_size_total:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">Storage size in bytes of objects deleted</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_objects_total</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <strong>out_objects_pruned</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>, <strong>out_pruned_object_size_total</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Prune the system repository.  This is a thin wrapper
around <a class="reference internal" href="Repo.html#OSTree.Repo.prune_from_reachable" title="OSTree.Repo.prune_from_reachable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Repo.prune_from_reachable</span></code></a>(); the primary
addition is that this function automatically gathers
all deployed commits into the reachable set.</p>
<p>You generally want to at least set the <code class="docutils literal notranslate"><span class="pre">OSTREE_REPO_PRUNE_FLAGS_REFS_ONLY</span></code>
flag in <cite>options</cite>.  A commit traversal depth of <code class="docutils literal notranslate"><span class="pre">0</span></code> is assumed.</p>
<p>Locking: exclusive</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2018.6.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deploy_tree">
<code class="descname">deploy_tree</code><span class="sig-paren">(</span><em>osname</em>, <em>revision</em>, <em>origin</em>, <em>provided_merge_deployment</em>, <em>override_kernel_argv</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deploy_tree" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – osname to use for merge deployment</li>
<li><strong>revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Checksum to add</li>
<li><strong>origin</strong> (<a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Origin to use for upgrades</li>
<li><strong>provided_merge_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use this deployment for merge path</li>
<li><strong>override_kernel_argv</strong> ([<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>] or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use these as kernel arguments; if <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, inherit options from provided_merge_deployment</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">out_new_deployment:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The new deployment path</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_new_deployment</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Older version of <a class="reference internal" href="#OSTree.Sysroot.stage_tree_with_options" title="OSTree.Sysroot.stage_tree_with_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.stage_tree_with_options</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2018.5.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deploy_tree_with_options">
<code class="descname">deploy_tree_with_options</code><span class="sig-paren">(</span><em>osname</em>, <em>revision</em>, <em>origin</em>, <em>provided_merge_deployment</em>, <em>opts</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deploy_tree_with_options" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – osname to use for merge deployment</li>
<li><strong>revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Checksum to add</li>
<li><strong>origin</strong> (<a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Origin to use for upgrades</li>
<li><strong>provided_merge_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use this deployment for merge path</li>
<li><strong>opts</strong> (<a class="reference internal" href="SysrootDeployTreeOpts.html#OSTree.SysrootDeployTreeOpts" title="OSTree.SysrootDeployTreeOpts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootDeployTreeOpts</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Options</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">out_new_deployment:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The new deployment path</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_new_deployment</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Check out deployment tree with revision <cite>revision</cite>, performing a 3
way merge with <cite>provided_merge_deployment</cite> for configuration.</p>
<p>When booted into the sysroot, you should use the
<a class="reference internal" href="#OSTree.Sysroot.stage_tree" title="OSTree.Sysroot.stage_tree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.stage_tree</span></code></a>() API instead.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deployment_set_kargs">
<code class="descname">deployment_set_kargs</code><span class="sig-paren">(</span><em>deployment</em>, <em>new_kargs</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deployment_set_kargs" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – A deployment</li>
<li><strong>new_kargs</strong> ([<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>]) – Replace deployment’s kernel arguments</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Entirely replace the kernel arguments of <cite>deployment</cite> with the
values in <cite>new_kargs</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deployment_set_mutable">
<code class="descname">deployment_set_mutable</code><span class="sig-paren">(</span><em>deployment</em>, <em>is_mutable</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deployment_set_mutable" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – A deployment</li>
<li><strong>is_mutable</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Whether or not deployment’s files can be changed</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>By default, deployment directories are not mutable.  This function
will allow making them temporarily mutable, for example to allow
layering additional non-OSTree content.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deployment_set_pinned">
<code class="descname">deployment_set_pinned</code><span class="sig-paren">(</span><em>deployment</em>, <em>is_pinned</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deployment_set_pinned" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – A deployment</li>
<li><strong>is_pinned</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – Whether or not deployment will be automatically GC’d</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>By default, deployments may be subject to garbage collection. Typical uses of
libostree only retain at most 2 deployments. If <cite>is_pinned</cite> is <code class="docutils literal notranslate"><span class="pre">TRUE</span></code>, a
metadata bit will be set causing libostree to avoid automatic GC of the
deployment. However, this is really an “advisory” note; it’s still possible
for e.g. older versions of libostree unaware of pinning to GC the deployment.</p>
<p>This function does nothing and returns successfully if the deployment
is already in the desired pinning state.  It is an error to try to pin
the staged deployment (as it’s not in the bootloader entries).</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2018.3.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.deployment_unlock">
<code class="descname">deployment_unlock</code><span class="sig-paren">(</span><em>deployment</em>, <em>unlocked_state</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.deployment_unlock" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – Deployment</li>
<li><strong>unlocked_state</strong> (<a class="reference internal" href="../enums.html#OSTree.DeploymentUnlockedState" title="OSTree.DeploymentUnlockedState"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.DeploymentUnlockedState</span></code></a>) – Transition to this unlocked state</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Configure the target deployment <cite>deployment</cite> such that it
is writable.  There are multiple modes, essentially differing
in whether or not any changes persist across reboot.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">OSTREE_DEPLOYMENT_UNLOCKED_HOTFIX</span></code> state is persistent
across reboots.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2016.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.ensure_initialized">
<code class="descname">ensure_initialized</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.ensure_initialized" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Ensure that <cite>self</cite> is set up as a valid rootfs, by creating
/ostree/repo, among other things.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_booted_deployment">
<code class="descname">get_booted_deployment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_booted_deployment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The currently booted deployment, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if none</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_bootversion">
<code class="descname">get_bootversion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_bootversion" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_deployment_directory">
<code class="descname">get_deployment_directory</code><span class="sig-paren">(</span><em>deployment</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_deployment_directory" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – A deployment</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Path to deployment root directory</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_deployment_dirpath">
<code class="descname">get_deployment_dirpath</code><span class="sig-paren">(</span><em>deployment</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_deployment_dirpath" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – A deployment</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Path to deployment root directory, relative to sysroot</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a></td>
</tr>
</tbody>
</table>
<p>Note this function only returns a *relative* path - if you want
to access, it, you must either use fd-relative api such as openat(),
or concatenate it with the full <a class="reference internal" href="#OSTree.Sysroot.get_path" title="OSTree.Sysroot.get_path"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.get_path</span></code></a>().</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_deployments">
<code class="descname">get_deployments</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_deployments" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Ordered list of deployments</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">[<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_fd">
<code class="descname">get_fd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_fd" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A file descriptor valid for the lifetime of <cite>self</cite></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></td>
</tr>
</tbody>
</table>
<p>Access a file descriptor that refers to the root directory of this sysroot.
<a class="reference internal" href="#OSTree.Sysroot.initialize" title="OSTree.Sysroot.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.initialize</span></code></a>() (or <a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.load</span></code></a>()) must have been invoked
prior to calling this function.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_merge_deployment">
<code class="descname">get_merge_deployment</code><span class="sig-paren">(</span><em>osname</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_merge_deployment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Operating system group</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Configuration merge deployment</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
<p>Find the deployment to use as a configuration merge source; this is
the first one in the current deployment list which matches osname.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_path">
<code class="descname">get_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_path" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Path to rootfs</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_repo">
<code class="descname">get_repo</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_repo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> on success, <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a> otherwise<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">out_repo:</th><td class="field-body">Repository in sysroot <cite>self</cite></td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_repo</strong>: <a class="reference internal" href="Repo.html#OSTree.Repo" title="OSTree.Repo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Repo</span></code></a>)</td>
</tr>
</tbody>
</table>
<p>Retrieve the OSTree repository in sysroot <cite>self</cite>. The repo is guaranteed to be open
(see <a class="reference internal" href="Repo.html#OSTree.Repo.open" title="OSTree.Repo.open"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Repo.open</span></code></a>()).</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_staged_deployment">
<code class="descname">get_staged_deployment</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_staged_deployment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The currently staged deployment, or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> if none</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2018.5.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.get_subbootversion">
<code class="descname">get_subbootversion</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.get_subbootversion" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.init_osname">
<code class="descname">init_osname</code><span class="sig-paren">(</span><em>osname</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.init_osname" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Name group of operating system checkouts</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Initialize the directory structure for an “osname”, which is a
group of operating system deployments, with a shared <code class="docutils literal notranslate"><span class="pre">/var</span></code>.  One
is required for generating a deployment.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2016.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.initialize" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Subset of <a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.load</span></code></a>(); performs basic initialization. Notably, one
can invoke <code class="docutils literal notranslate"><span class="pre">ostree_sysroot_get_fd()</span></code> after calling this function.</p>
<p>It is not necessary to call this function if <a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.load</span></code></a>() is
invoked.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.is_booted">
<code class="descname">is_booted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.is_booted" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a> iff the sysroot points to a booted deployment</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Can only be invoked after <code class="docutils literal notranslate"><span class="pre">ostree_sysroot_initialize()</span></code>.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.load">
<code class="descname">load</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.load" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Load deployment list, bootversion, and subbootversion from the
rootfs <cite>self</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.load_if_changed">
<code class="descname">load_if_changed</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.load_if_changed" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_changed</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>)</td>
</tr>
</tbody>
</table>
<div class="versionadded">
<p><span class="versionmodified">New in version 2016.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.lock">
<code class="descname">lock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.lock" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Acquire an exclusive multi-process write lock for <cite>self</cite>.  This call
blocks until the lock has been acquired.  The lock is not
reentrant.</p>
<p>Release the lock with <a class="reference internal" href="#OSTree.Sysroot.unlock" title="OSTree.Sysroot.unlock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.unlock</span></code></a>().  The lock will also
be released if <cite>self</cite> is deallocated.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.lock_async">
<code class="descname">lock_async</code><span class="sig-paren">(</span><em>cancellable</em>, <em>callback</em>, <em>*user_data</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.lock_async" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
<li><strong>callback</strong> (<a class="reference external" href="../../Gio-2.0/callbacks.html#Gio.AsyncReadyCallback" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.AsyncReadyCallback</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Callback</li>
<li><strong>user_data</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#object" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">object</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – User data</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>An asynchronous version of <a class="reference internal" href="#OSTree.Sysroot.lock" title="OSTree.Sysroot.lock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.lock</span></code></a>().</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.lock_finish">
<code class="descname">lock_finish</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.lock_finish" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>result</strong> (<a class="reference external" href="../../Gio-2.0/classes/AsyncResult.html#Gio.AsyncResult" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.AsyncResult</span></code></a>) – Result</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Call when <a class="reference internal" href="#OSTree.Sysroot.lock_async" title="OSTree.Sysroot.lock_async"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.lock_async</span></code></a>() is ready.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.origin_new_from_refspec">
<code class="descname">origin_new_from_refspec</code><span class="sig-paren">(</span><em>refspec</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.origin_new_from_refspec" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>refspec</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – A refspec</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A new config file which sets <cite>refspec</cite> as an origin</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.prepare_cleanup">
<code class="descname">prepare_cleanup</code><span class="sig-paren">(</span><em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.prepare_cleanup" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></td>
</tr>
</tbody>
</table>
<p>Like <a class="reference internal" href="#OSTree.Sysroot.cleanup" title="OSTree.Sysroot.cleanup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.cleanup</span></code></a>() in that it cleans up incomplete deployments
and old boot versions, but does NOT prune the repository.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.query_deployments_for">
<code class="descname">query_deployments_for</code><span class="sig-paren">(</span><em>osname</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.query_deployments_for" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – “stateroot” name</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">out_pending:</th><td class="field-body">The pending deployment</td>
</tr>
<tr class="field-even field"><th class="field-name">out_rollback:</th><td class="field-body">The rollback deployment</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">(<strong>out_pending</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, <strong>out_rollback</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>)</td>
</tr>
</tbody>
</table>
<p>Find the pending and rollback deployments for <cite>osname</cite>. Pass <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a> for <cite>osname</cite>
to use the booted deployment’s osname. By default, pending deployment is the
first deployment in the order that matches <cite>osname</cite>, and <cite>rollback</cite> will be the
next one after the booted deployment, or the deployment after the pending if
we’re not looking at the booted deployment.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2017.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.repo">
<code class="descname">repo</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.repo" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The OSTree repository in sysroot <cite>self</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="Repo.html#OSTree.Repo" title="OSTree.Repo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Repo</span></code></a></td>
</tr>
</tbody>
</table>
<p>This function is a variant of <a class="reference internal" href="#OSTree.Sysroot.get_repo" title="OSTree.Sysroot.get_repo"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.get_repo</span></code></a>() that cannot fail, and
returns a cached repository. Can only be called after <a class="reference internal" href="#OSTree.Sysroot.initialize" title="OSTree.Sysroot.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.initialize</span></code></a>()
or <a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.load</span></code></a>() has been invoked successfully.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2017.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.set_mount_namespace_in_use">
<code class="descname">set_mount_namespace_in_use</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.set_mount_namespace_in_use" title="Permalink to this definition">¶</a></dt>
<dd><p>If this function is invoked, then libostree will assume that
a private Linux mount namespace has been created by the process.
The primary use case for this is to have e.g. /sysroot mounted
read-only by default.</p>
<p>If this function has been called, then when a function which requires
writable access is invoked, libostree will automatically remount as writable
any mount points on which it operates.  This currently is just <code class="docutils literal notranslate"><span class="pre">/sysroot</span></code> and
<code class="docutils literal notranslate"><span class="pre">/boot</span></code>.</p>
<p>If you invoke this function, it must be before <a class="reference internal" href="#OSTree.Sysroot.load" title="OSTree.Sysroot.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.load</span></code></a>(); it may
be invoked before or after <a class="reference internal" href="#OSTree.Sysroot.initialize" title="OSTree.Sysroot.initialize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.initialize</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.1.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.simple_write_deployment">
<code class="descname">simple_write_deployment</code><span class="sig-paren">(</span><em>osname</em>, <em>new_deployment</em>, <em>merge_deployment</em>, <em>flags</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.simple_write_deployment" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – OS name</li>
<li><strong>new_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – Prepend this deployment to the list</li>
<li><strong>merge_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use this deployment for configuration merge</li>
<li><strong>flags</strong> (<a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags" title="OSTree.SysrootSimpleWriteDeploymentFlags"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags</span></code></a>) – Flags controlling behavior</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Prepend <cite>new_deployment</cite> to the list of deployments, commit, and
cleanup.  By default, all other deployments for the given <cite>osname</cite>
except the merge deployment and the booted deployment will be
garbage collected.</p>
<p>If <a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN" title="OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN</span></code></a> is
specified, then all current deployments will be kept.</p>
<p>If <a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_PENDING" title="OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_PENDING"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_PENDING</span></code></a> is
specified, then pending deployments will be kept.</p>
<p>If <a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_ROLLBACK" title="OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_ROLLBACK"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags.RETAIN_ROLLBACK</span></code></a> is
specified, then rollback deployments will be kept.</p>
<p>If <a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags.NOT_DEFAULT" title="OSTree.SysrootSimpleWriteDeploymentFlags.NOT_DEFAULT"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags.NOT_DEFAULT</span></code></a> is
specified, then instead of prepending, the new deployment will be
added right after the booted or merge deployment, instead of first.</p>
<p>If <a class="reference internal" href="../flags.html#OSTree.SysrootSimpleWriteDeploymentFlags.NO_CLEAN" title="OSTree.SysrootSimpleWriteDeploymentFlags.NO_CLEAN"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootSimpleWriteDeploymentFlags.NO_CLEAN</span></code></a> is
specified, then no cleanup will be performed after adding the
deployment. Make sure to call <a class="reference internal" href="#OSTree.Sysroot.cleanup" title="OSTree.Sysroot.cleanup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.cleanup</span></code></a>() sometime
later, instead.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.stage_overlay_initrd">
<code class="descname">stage_overlay_initrd</code><span class="sig-paren">(</span><em>fd</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.stage_overlay_initrd" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fd</strong> (<a class="reference external" href="http://docs.python.org/3/library/functions.html#int" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a>) – File descriptor to overlay initrd</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">out_checksum:</th><td class="field-body">Overlay initrd checksum</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_checksum</strong>: <a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Stage an overlay initrd to be used in an upcoming deployment. Returns a checksum which
can be passed to <a class="reference internal" href="#OSTree.Sysroot.deploy_tree_with_options" title="OSTree.Sysroot.deploy_tree_with_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.deploy_tree_with_options</span></code></a>() or
<a class="reference internal" href="#OSTree.Sysroot.stage_tree_with_options" title="OSTree.Sysroot.stage_tree_with_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.stage_tree_with_options</span></code></a>() via the <code class="docutils literal notranslate"><span class="pre">overlay_initrds</span></code> array option.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.stage_tree">
<code class="descname">stage_tree</code><span class="sig-paren">(</span><em>osname</em>, <em>revision</em>, <em>origin</em>, <em>merge_deployment</em>, <em>override_kernel_argv</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.stage_tree" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – osname to use for merge deployment</li>
<li><strong>revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Checksum to add</li>
<li><strong>origin</strong> (<a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Origin to use for upgrades</li>
<li><strong>merge_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use this deployment for merge path</li>
<li><strong>override_kernel_argv</strong> ([<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>] or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use these as kernel arguments; if <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>, inherit options from provided_merge_deployment</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">out_new_deployment:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The new deployment path</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_new_deployment</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Older version of <a class="reference internal" href="#OSTree.Sysroot.stage_tree_with_options" title="OSTree.Sysroot.stage_tree_with_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.stage_tree_with_options</span></code></a>().</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2018.5.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.stage_tree_with_options">
<code class="descname">stage_tree_with_options</code><span class="sig-paren">(</span><em>osname</em>, <em>revision</em>, <em>origin</em>, <em>merge_deployment</em>, <em>opts</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.stage_tree_with_options" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>osname</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – osname to use for merge deployment</li>
<li><strong>revision</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Checksum to add</li>
<li><strong>origin</strong> (<a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Origin to use for upgrades</li>
<li><strong>merge_deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Use this deployment for merge path</li>
<li><strong>opts</strong> (<a class="reference internal" href="SysrootDeployTreeOpts.html#OSTree.SysrootDeployTreeOpts" title="OSTree.SysrootDeployTreeOpts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootDeployTreeOpts</span></code></a>) – Options</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">out_new_deployment:</th></tr>
<tr class="field-odd field"><td>&#160;</td><td class="field-body">The new deployment path</td>
</tr>
</tbody>
</table>
</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_new_deployment</strong>: <a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>)</p>
</td>
</tr>
</tbody>
</table>
<p>Like <a class="reference internal" href="#OSTree.Sysroot.deploy_tree" title="OSTree.Sysroot.deploy_tree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.deploy_tree</span></code></a>(), but “finalization” only occurs at OS
shutdown time.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2020.7.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.try_lock">
<code class="descname">try_lock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.try_lock" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">out_acquired:</th><td class="field-body">Whether or not the lock has been acquired</td>
</tr>
</tbody>
</table>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">(<a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>, <strong>out_acquired</strong>: <a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>)</td>
</tr>
</tbody>
</table>
<p>Try to acquire an exclusive multi-process write lock for <cite>self</cite>.  If
another process holds the lock, this function will return
immediately, setting <cite>out_acquired</cite> to <a class="reference external" href="http://docs.python.org/3/library/constants.html#False" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>, and returning <a class="reference external" href="http://docs.python.org/3/library/constants.html#True" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a>
(and no error).</p>
<p>Release the lock with <a class="reference internal" href="#OSTree.Sysroot.unlock" title="OSTree.Sysroot.unlock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.unlock</span></code></a>().  The lock will also
be released if <cite>self</cite> is deallocated.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.unload">
<code class="descname">unload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.unload" title="Permalink to this definition">¶</a></dt>
<dd><p>Release any resources such as file descriptors referring to the
root directory of this sysroot.  Normally, those resources are
cleared by finalization, but in garbage collected languages that
may not be predictable.</p>
<p>This undoes the effect of <code class="docutils literal notranslate"><span class="pre">ostree_sysroot_load()</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.unlock">
<code class="descname">unlock</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.unlock" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear the lock previously acquired with <a class="reference internal" href="#OSTree.Sysroot.lock" title="OSTree.Sysroot.lock"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.lock</span></code></a>().  It
is safe to call this function if the lock has not been previously
acquired.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.write_deployments">
<code class="descname">write_deployments</code><span class="sig-paren">(</span><em>new_deployments</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.write_deployments" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_deployments</strong> ([<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>]) – List of new deployments</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Older version of <a class="reference internal" href="#OSTree.Sysroot.write_deployments_with_options" title="OSTree.Sysroot.write_deployments_with_options"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.write_deployments_with_options</span></code></a>(). This
version will perform post-deployment cleanup by default.</p>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.write_deployments_with_options">
<code class="descname">write_deployments_with_options</code><span class="sig-paren">(</span><em>new_deployments</em>, <em>opts</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.write_deployments_with_options" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_deployments</strong> ([<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>]) – List of new deployments</li>
<li><strong>opts</strong> (<a class="reference internal" href="SysrootWriteDeploymentsOpts.html#OSTree.SysrootWriteDeploymentsOpts" title="OSTree.SysrootWriteDeploymentsOpts"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.SysrootWriteDeploymentsOpts</span></code></a>) – Options</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Assuming <cite>new_deployments</cite> have already been deployed in place on disk via
<a class="reference internal" href="#OSTree.Sysroot.deploy_tree" title="OSTree.Sysroot.deploy_tree"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.deploy_tree</span></code></a>(), atomically update bootloader configuration. By
default, no post-transaction cleanup will be performed. You should invoke
<a class="reference internal" href="#OSTree.Sysroot.cleanup" title="OSTree.Sysroot.cleanup"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot.cleanup</span></code></a>() at some point after the transaction, or specify
<code class="docutils literal notranslate"><span class="pre">do_postclean</span></code> in <cite>opts</cite>.  Skipping the post-transaction cleanup is useful
if for example you want to control pruning of the repository.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2017.4.</span></p>
</div>
</dd></dl>

<dl class="method">
<dt id="OSTree.Sysroot.write_origin_file">
<code class="descname">write_origin_file</code><span class="sig-paren">(</span><em>deployment</em>, <em>new_origin</em>, <em>cancellable</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.write_origin_file" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>deployment</strong> (<a class="reference internal" href="Deployment.html#OSTree.Deployment" title="OSTree.Deployment"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Deployment</span></code></a>) – Deployment</li>
<li><strong>new_origin</strong> (<a class="reference external" href="../../GLib-2.0/classes/KeyFile.html#GLib.KeyFile" title="(in GLib 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GLib.KeyFile</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Origin content</li>
<li><strong>cancellable</strong> (<a class="reference external" href="../../Gio-2.0/classes/Cancellable.html#Gio.Cancellable" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.Cancellable</span></code></a> or <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – Cancellable</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GLib-2.0/classes/Error.html#GLib.Error" title="(in GLib 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GLib.Error</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference external" href="http://docs.python.org/3/library/functions.html#bool" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</td>
</tr>
</tbody>
</table>
<p>Immediately replace the origin file of the referenced <cite>deployment</cite>
with the contents of <cite>new_origin</cite>.  If <cite>new_origin</cite> is <a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>,
this function will write the current origin of <cite>deployment</cite>.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="signal-details">
<h2>Signal Details<a class="headerlink" href="#signal-details" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="OSTree.Sysroot.signals.journal_msg">
<code class="descclassname">OSTree.Sysroot.signals.</code><code class="descname">journal_msg</code><span class="sig-paren">(</span><em>sysroot</em>, <em>msg</em><span class="sig-paren">)</span><a class="headerlink" href="#OSTree.Sysroot.signals.journal_msg" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Signal Name:</th><td class="field-body"><p class="first"><code class="docutils literal notranslate"><span class="pre">journal-msg</span></code></p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body"><p class="first"><a class="reference external" href="../../GObject-2.0/flags.html#GObject.SignalFlags.RUN_LAST" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">RUN_LAST</span></code></a></p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sysroot</strong> (<a class="reference internal" href="#OSTree.Sysroot" title="OSTree.Sysroot"><code class="xref py py-obj docutils literal notranslate"><span class="pre">OSTree.Sysroot</span></code></a>) – The object which received the signal</li>
<li><strong>msg</strong> (<a class="reference external" href="http://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – Human-readable string (should not contain newlines)</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>libostree will log to the journal various events, such as the /etc merge
status, and transaction completion. Connect to this signal to also
synchronously receive the text for those messages. This is intended to be
used by command line tools which link to libostree as a library.</p>
<p>Currently, the structured data is only available via the systemd journal.</p>
<div class="versionadded">
<p><span class="versionmodified">New in version 2017.10.</span></p>
</div>
</dd></dl>

</div>
<div class="section" id="property-details">
<h2>Property Details<a class="headerlink" href="#property-details" title="Permalink to this headline">¶</a></h2>
<dl class="data">
<dt id="OSTree.Sysroot.props.path">
<code class="descclassname">OSTree.Sysroot.props.</code><code class="descname">path</code><a class="headerlink" href="#OSTree.Sysroot.props.path" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Name:</th><td class="field-body"><code class="docutils literal notranslate"><span class="pre">path</span></code></td>
</tr>
<tr class="field-even field"><th class="field-name">Type:</th><td class="field-body"><a class="reference external" href="../../Gio-2.0/classes/File.html#Gio.File" title="(in Gio 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gio.File</span></code></a></td>
</tr>
<tr class="field-odd field"><th class="field-name">Default Value:</th><td class="field-body"><a class="reference external" href="http://docs.python.org/3/library/constants.html#None" title="(in Python v3.9)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></td>
</tr>
<tr class="field-even field"><th class="field-name">Flags:</th><td class="field-body"><a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.READABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">READABLE</span></code></a>, <a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.WRITABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WRITABLE</span></code></a>, <a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.CONSTRUCT_ONLY" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">CONSTRUCT_ONLY</span></code></a></td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>
</html>