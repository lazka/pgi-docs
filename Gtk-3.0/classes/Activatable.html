<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>
    Gtk.Activatable -
    
      Interfaces -
    
    Gtk 3.0
  </title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  
    <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../../_static/css/pgi.css" type="text/css" />
  

  
  <script type="text/javascript">

    function openSidebar(element) {
        window.location.href = element.href + location.hash;
        return false;
    }

    function inIframe() {
        try {
            return window.self !== window.top;
        } catch (e) {
            return true;
        }
    }

    function onLoaded() {
        if(!inIframe()) {
            var icons = document.getElementsByClassName('open-sidebar');

            for (var i = 0; i < icons.length; i ++) {
                icons[i].style.display = 'table-cell';
            }
        }
    }

    document.addEventListener('DOMContentLoaded', onLoaded, false);

  </script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Gtk.AppChooser" href="AppChooser.html" />
    <link rel="prev" title="Gtk.Actionable" href="Actionable.html" /> 
</head>

<body class="wy-body-for-nav">

<div class="non-fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gtk-3.0/classes/Activatable.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gtk 3.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gtk.Activatable</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="Actionable.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="AppChooser.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gtk.Activatable</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

<div class="fixed-bar">
  <table class="navigation" summary="Navigation header" cellpadding="2" cellspacing="10" width="100%"><tbody><tr valign="middle">

<td class="open-sidebar" style="display:none"><a href="../../index.html#Gtk-3.0/classes/Activatable.html" onclick="return openSidebar(this);"><i class="fa fa-search"></i></a></td>

<td class="shortcuts" align="left" width="100%">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Gtk 3.0</a> &raquo;</li>
      
          <li><a href="../interfaces.html">Interfaces</a> &raquo;</li>
      
    <li>Gtk.Activatable</li>
  </ul>
</td>
<td><a accesskey="h" href="../index.html"><i class="fa fa-home"></i></a></td>


<td><a accesskey="u" href="../interfaces.html"><i class="fa fa-chevron-up"></i></a></td>



<td><a accesskey="p" href="Actionable.html"><i class="fa fa-chevron-left"></i></a></td>



<td><a accesskey="n" href="AppChooser.html"><i class="fa fa-chevron-right"></i></a></td>


</tr></tbody>
</table>

<div class="local-toc">
    <ul>
<li><a class="reference internal" href="#">Gtk.Activatable</a><ul>
<li><a class="reference internal" href="#methods">Methods</a></li>
<li><a class="reference internal" href="#virtual-methods">Virtual Methods</a></li>
<li><a class="reference internal" href="#properties">Properties</a></li>
<li><a class="reference internal" href="#signals">Signals</a></li>
<li><a class="reference internal" href="#fields">Fields</a></li>
<li><a class="reference internal" href="#class-details">Class Details</a></li>
<li><a class="reference internal" href="#property-details">Property Details</a></li>
</ul>
</li>
</ul>

</div>
</div>

  <div class="wy-grid-for-nav">

    

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="main">
            
  <section id="gtk-activatable">
<h1>Gtk.Activatable<a class="headerlink" href="#gtk-activatable" title="Permalink to this headline">¶</a></h1>
<p class="graphviz">
<svg width="99pt" height="80pt"
 viewBox="0.00 0.00 99.00 80.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 76)">
<title>g</title>
<!-- GObject.GInterface -->
<g id="node1" class="node">
<title>GObject.GInterface</title>
<g id="a_node1"><a xlink:href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" xlink:title="GObject.GInterface">
<path fill="none" stroke="#3091d1" d="M85,-72C85,-72 6,-72 6,-72 3,-72 0,-69 0,-66 0,-66 0,-60 0,-60 0,-57 3,-54 6,-54 6,-54 85,-54 85,-54 88,-54 91,-57 91,-60 91,-60 91,-66 91,-66 91,-69 88,-72 85,-72"/>
<text text-anchor="middle" x="45.5" y="-60.7" font-family="inherit" font-size="8.50">GObject.GInterface</text>
</a>
</g>
</g>
<!-- Gtk.Activatable -->
<g id="node2" class="node">
<title>Gtk.Activatable</title>
<g id="a_node2"><a xlink:href="#Gtk.Activatable" xlink:title="Gtk.Activatable">
<path fill="none" stroke="#3091d1" d="M77,-18C77,-18 14,-18 14,-18 11,-18 8,-15 8,-12 8,-12 8,-6 8,-6 8,-3 11,0 14,0 14,0 77,0 77,0 80,0 83,-3 83,-6 83,-6 83,-12 83,-12 83,-15 80,-18 77,-18"/>
<text text-anchor="middle" x="45.5" y="-6.7" font-family="inherit" font-size="8.50">Gtk.Activatable</text>
</a>
</g>
</g>
<!-- GObject.GInterface&#45;&gt;Gtk.Activatable -->
<g id="edge1" class="edge">
<title>GObject.GInterface&#45;&gt;Gtk.Activatable</title>
<path fill="none" stroke="black" stroke-width="0.5" d="M45.5,-53.88C45.5,-45.76 45.5,-33.13 45.5,-23.5"/>
<polygon fill="black" stroke="black" stroke-width="0.5" points="47.25,-23.24 45.5,-18.24 43.75,-23.24 47.25,-23.24"/>
</g>
</g>
</svg>
</p>
<dl class="field-list simple">
<dt class="field-odd">Implementations</dt>
<dd class="field-odd"><p><a class="reference internal" href="Button.html#Gtk.Button" title="Gtk.Button"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Button</span></code></a>, <a class="reference internal" href="MenuItem.html#Gtk.MenuItem" title="Gtk.MenuItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.MenuItem</span></code></a>, <a class="reference internal" href="RecentChooserMenu.html#Gtk.RecentChooserMenu" title="Gtk.RecentChooserMenu"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.RecentChooserMenu</span></code></a>, <a class="reference internal" href="Switch.html#Gtk.Switch" title="Gtk.Switch"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.Switch</span></code></a>, <a class="reference internal" href="ToolItem.html#Gtk.ToolItem" title="Gtk.ToolItem"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ToolItem</span></code></a></p>
</dd>
</dl>
<section id="methods">
<span id="gtk-activatable-methods"></span><h2>Methods<a class="headerlink" href="#methods" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 99%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.do_set_related_action" title="Gtk.Activatable.do_set_related_action"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_set_related_action</span></code></a> (action)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.get_related_action" title="Gtk.Activatable.get_related_action"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_related_action</span></code></a> ()</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.get_use_action_appearance" title="Gtk.Activatable.get_use_action_appearance"><code class="xref py py-func docutils literal notranslate"><span class="pre">get_use_action_appearance</span></code></a> ()</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.set_related_action" title="Gtk.Activatable.set_related_action"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_related_action</span></code></a> (action)</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.set_use_action_appearance" title="Gtk.Activatable.set_use_action_appearance"><code class="xref py py-func docutils literal notranslate"><span class="pre">set_use_action_appearance</span></code></a> (use_appearance)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.sync_action_properties" title="Gtk.Activatable.sync_action_properties"><code class="xref py py-func docutils literal notranslate"><span class="pre">sync_action_properties</span></code></a> (action)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="virtual-methods">
<span id="gtk-activatable-vfuncs"></span><h2>Virtual Methods<a class="headerlink" href="#virtual-methods" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 99%" />
</colgroup>
<tbody>
<tr class="row-odd"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.do_sync_action_properties" title="Gtk.Activatable.do_sync_action_properties"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_sync_action_properties</span></code></a> (action)</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p><a class="reference internal" href="#Gtk.Activatable.do_update" title="Gtk.Activatable.do_update"><code class="xref py py-func docutils literal notranslate"><span class="pre">do_update</span></code></a> (action, property_name)</p></td>
</tr>
</tbody>
</table>
</section>
<section id="properties">
<span id="gtk-activatable-props"></span><h2>Properties<a class="headerlink" href="#properties" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-given docutils align-default">
<colgroup>
<col style="width: 1%" />
<col style="width: 1%" />
<col style="width: 1%" />
<col style="width: 97%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Type</p></th>
<th class="head"><p>Flags</p></th>
<th class="head"><p>Short Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">related-action</span></code></a></p></td>
<td><p><a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a></p></td>
<td><p>r/w</p></td>
<td><p>The action this activatable will activate and receive updates from <code class="docutils literal notranslate"><span class="pre">deprecated</span></code></p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#Gtk.Activatable.props.use_action_appearance" title="Gtk.Activatable.props.use_action_appearance"><code class="xref py py-data docutils literal notranslate"><span class="pre">use-action-appearance</span></code></a></p></td>
<td><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p></td>
<td><p>r/w</p></td>
<td><p>Whether to use the related actions appearance properties <code class="docutils literal notranslate"><span class="pre">deprecated</span></code></p></td>
</tr>
</tbody>
</table>
</section>
<section id="signals">
<span id="gtk-activatable-signals"></span><h2>Signals<a class="headerlink" href="#signals" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</section>
<section id="fields">
<span id="gtk-activatable-fields"></span><h2>Fields<a class="headerlink" href="#fields" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</section>
<section id="class-details">
<h2>Class Details<a class="headerlink" href="#class-details" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="Gtk.Activatable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">Gtk.</span></span><span class="sig-name descname"><span class="pre">Activatable</span></span><a class="headerlink" href="#Gtk.Activatable" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Bases</dt>
<dd class="field-odd"><p><a class="reference external" href="../../GObject-2.0/classes/GInterface.html#GObject.GInterface" title="(in GObject 2.0 v2.0)"><code class="xref py py-class docutils literal notranslate"><span class="pre">GObject.GInterface</span></code></a></p>
</dd>
<dt class="field-even">Structure</dt>
<dd class="field-even"><p><a class="reference internal" href="ActivatableIface.html#Gtk.ActivatableIface" title="Gtk.ActivatableIface"><code class="xref py py-class docutils literal notranslate"><span class="pre">Gtk.ActivatableIface</span></code></a></p>
</dd>
</dl>
<p>Activatable widgets can be connected to a <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> and reflects
the state of its action. A <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> can also provide feedback
through its action, as they are responsible for activating their
related actions.</p>
<dl class="simple">
<dt>Implementing <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a></dt><dd></dd>
</dl>
<p>When extending a class that is already <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a>; it is only
necessary to implement the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a>-&gt;sync_action_properties()
and <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a>-&gt;update() methods and chain up to the parent
implementation, however when introducing
a new <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> class; the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">:related-action</span></code></a> and
<a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.use_action_appearance" title="Gtk.Activatable.props.use_action_appearance"><code class="xref py py-data docutils literal notranslate"><span class="pre">:use-action-appearance</span></code></a> properties need to be handled by
the implementor. Handling these properties is mostly a matter of installing
the action pointer and boolean flag on your instance, and calling
<a class="reference internal" href="#Gtk.Activatable.do_set_related_action" title="Gtk.Activatable.do_set_related_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.do_set_related_action</span></code></a>() and
<a class="reference internal" href="#Gtk.Activatable.sync_action_properties" title="Gtk.Activatable.sync_action_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.sync_action_properties</span></code></a>() at the appropriate times.</p>
<dl class="simple">
<dt>A class fragment implementing <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a></dt><dd></dd>
</dl>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span>enum {
...

PROP_ACTIVATABLE_RELATED_ACTION,
PROP_ACTIVATABLE_USE_ACTION_APPEARANCE
}

struct _FooBarPrivate
{

  ...

  GtkAction      *action;
  gboolean        use_action_appearance;
};

...

static void foo_bar_activatable_interface_init         (GtkActivatableIface  *iface);
static void foo_bar_activatable_update                 (GtkActivatable       *activatable,
                                                           GtkAction            *action,
                                                           const gchar          *property_name);
static void foo_bar_activatable_sync_action_properties (GtkActivatable       *activatable,
                                                           GtkAction            *action);
...


static void
foo_bar_class_init (FooBarClass *klass)
{

  ...

  g_object_class_override_property (gobject_class, PROP_ACTIVATABLE_RELATED_ACTION, &quot;related-action&quot;);
  g_object_class_override_property (gobject_class, PROP_ACTIVATABLE_USE_ACTION_APPEARANCE, &quot;use-action-appearance&quot;);

  ...
}


static void
foo_bar_activatable_interface_init (GtkActivatableIface  *iface)
{
  iface-&gt;update = foo_bar_activatable_update;
  iface-&gt;sync_action_properties = foo_bar_activatable_sync_action_properties;
}

... Break the reference using gtk_activatable_do_set_related_action()...

static void
foo_bar_dispose (GObject *object)
{
  FooBar *bar = FOO_BAR (object);
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (bar);

  ...

  if (priv-&gt;action)
    {
      gtk_activatable_do_set_related_action (GTK_ACTIVATABLE (bar), NULL);
      priv-&gt;action = NULL;
    }
  G_OBJECT_CLASS (foo_bar_parent_class)-&gt;dispose (object);
}

... Handle the “related-action” and “use-action-appearance” properties ...

static void
foo_bar_set_property (GObject         *object,
                      guint            prop_id,
                      const GValue    *value,
                      GParamSpec      *pspec)
{
  FooBar *bar = FOO_BAR (object);
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (bar);

  switch (prop_id)
    {

      ...

    case PROP_ACTIVATABLE_RELATED_ACTION:
      foo_bar_set_related_action (bar, g_value_get_object (value));
      break;
    case PROP_ACTIVATABLE_USE_ACTION_APPEARANCE:
      foo_bar_set_use_action_appearance (bar, g_value_get_boolean (value));
      break;
    default:
      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);
      break;
    }
}

static void
foo_bar_get_property (GObject         *object,
                         guint            prop_id,
                         GValue          *value,
                         GParamSpec      *pspec)
{
  FooBar *bar = FOO_BAR (object);
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (bar);

  switch (prop_id)
    {

      ...

    case PROP_ACTIVATABLE_RELATED_ACTION:
      g_value_set_object (value, priv-&gt;action);
      break;
    case PROP_ACTIVATABLE_USE_ACTION_APPEARANCE:
      g_value_set_boolean (value, priv-&gt;use_action_appearance);
      break;
    default:
      G_OBJECT_WARN_INVALID_PROPERTY_ID (object, prop_id, pspec);
      break;
    }
}


static void
foo_bar_set_use_action_appearance (FooBar   *bar,
                                   gboolean  use_appearance)
{
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (bar);

  if (priv-&gt;use_action_appearance != use_appearance)
    {
      priv-&gt;use_action_appearance = use_appearance;

      gtk_activatable_sync_action_properties (GTK_ACTIVATABLE (bar), priv-&gt;action);
    }
}

... call gtk_activatable_do_set_related_action() and then assign the action pointer,
no need to reference the action here since gtk_activatable_do_set_related_action() already
holds a reference here for you...
static void
foo_bar_set_related_action (FooBar    *bar,
                            GtkAction *action)
{
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (bar);

  if (priv-&gt;action == action)
    return;

  gtk_activatable_do_set_related_action (GTK_ACTIVATABLE (bar), action);

  priv-&gt;action = action;
}

... Selectively reset and update activatable depending on the use-action-appearance property ...
static void
gtk_button_activatable_sync_action_properties (GtkActivatable       *activatable,
                                                  GtkAction            *action)
{
  GtkButtonPrivate *priv = GTK_BUTTON_GET_PRIVATE (activatable);

  if (!action)
    return;

  if (gtk_action_is_visible (action))
    gtk_widget_show (GTK_WIDGET (activatable));
  else
    gtk_widget_hide (GTK_WIDGET (activatable));

  gtk_widget_set_sensitive (GTK_WIDGET (activatable), gtk_action_is_sensitive (action));

  ...

  if (priv-&gt;use_action_appearance)
    {
      if (gtk_action_get_stock_id (action))
        foo_bar_set_stock (button, gtk_action_get_stock_id (action));
      else if (gtk_action_get_label (action))
        foo_bar_set_label (button, gtk_action_get_label (action));

      ...

    }
}

static void
foo_bar_activatable_update (GtkActivatable       *activatable,
                               GtkAction            *action,
                               const gchar          *property_name)
{
  FooBarPrivate *priv = FOO_BAR_GET_PRIVATE (activatable);

  if (strcmp (property_name, &quot;visible&quot;) == 0)
    {
      if (gtk_action_is_visible (action))
        gtk_widget_show (GTK_WIDGET (activatable));
      else
        gtk_widget_hide (GTK_WIDGET (activatable));
    }
  else if (strcmp (property_name, &quot;sensitive&quot;) == 0)
    gtk_widget_set_sensitive (GTK_WIDGET (activatable), gtk_action_is_sensitive (action));

  ...

  if (!priv-&gt;use_action_appearance)
    return;

  if (strcmp (property_name, &quot;stock-id&quot;) == 0)
    foo_bar_set_stock (button, gtk_action_get_stock_id (action));
  else if (strcmp (property_name, &quot;label&quot;) == 0)
    foo_bar_set_label (button, gtk_action_get_label (action));

  ...
}
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.do_set_related_action">
<span class="sig-name descname"><span class="pre">do_set_related_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L430"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.do_set_related_action" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>) – the <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> to set</p>
</dd>
</dl>
<p>This is a utility function for <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> implementors.</p>
<p>When implementing <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> you must call this when
handling changes of the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">:related-action</span></code></a>, and
you must also use this to break references in <a class="reference external" href="../../GObject-2.0/classes/Object.html#GObject.Object" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">GObject.Object</span></code></a>-&gt;dispose().</p>
<p>This function adds a reference to the currently set related
action for you, it also makes sure the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a>-&gt;update()
method is called when the related <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> properties change
and registers to the action’s proxy list.</p>
<p>Be careful to call this before setting the local
copy of the <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> property, since this function uses
<a class="reference internal" href="#Gtk.Activatable.get_related_action" title="Gtk.Activatable.get_related_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.get_related_action</span></code></a>() to retrieve the
previous action.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.get_related_action">
<span class="sig-name descname"><span class="pre">get_related_action</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.get_related_action" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the related <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> if one is set.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a></p>
</dd>
</dl>
<p>Gets the related <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> for <cite>self</cite>.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.get_use_action_appearance">
<span class="sig-name descname"><span class="pre">get_use_action_appearance</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L551"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.get_use_action_appearance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>whether <cite>self</cite> uses its actions appearance.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
</dl>
<p>Gets whether this activatable should reset its layout
and appearance when setting the related action or when
the action changes appearance.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.set_related_action">
<span class="sig-name descname"><span class="pre">set_related_action</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L387"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.set_related_action" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>) – the <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> to set</p>
</dd>
</dl>
<p>Sets the related action on the <cite>self</cite> object.</p>
<p><a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> implementors need to handle the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">:related-action</span></code></a>
property and call <a class="reference internal" href="#Gtk.Activatable.do_set_related_action" title="Gtk.Activatable.do_set_related_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.do_set_related_action</span></code></a>() when it changes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.set_use_action_appearance">
<span class="sig-name descname"><span class="pre">set_use_action_appearance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">use_appearance</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L531"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.set_use_action_appearance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>use_appearance</strong> (<a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a>) – whether to use the actions appearance</p>
</dd>
</dl>
<p>Sets whether this activatable should reset its layout and appearance
when setting the related action or when the action changes appearance</p>
<p><a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> implementors need to handle the
<a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.use_action_appearance" title="Gtk.Activatable.props.use_action_appearance"><code class="xref py py-data docutils literal notranslate"><span class="pre">:use-action-appearance</span></code></a> property and call
<a class="reference internal" href="#Gtk.Activatable.sync_action_properties" title="Gtk.Activatable.sync_action_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.sync_action_properties</span></code></a>() to update <cite>self</cite>
if needed.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.sync_action_properties">
<span class="sig-name descname"><span class="pre">sync_action_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://gitlab.gnome.org/GNOME/gtk/blob/3.24.38/gtk/deprecated/gtkactivatable.c#L356"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#Gtk.Activatable.sync_action_properties" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – the related <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
<p>This is called to update the activatable completely, this is called
internally when the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">:related-action</span></code></a> property is set
or unset and by the implementing class when
<a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.use_action_appearance" title="Gtk.Activatable.props.use_action_appearance"><code class="xref py py-data docutils literal notranslate"><span class="pre">:use-action-appearance</span></code></a> changes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.do_sync_action_properties">
<span class="sig-name descname"><span class="pre">do_sync_action_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="pre">virtual</span></em><a class="headerlink" href="#Gtk.Activatable.do_sync_action_properties" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>action</strong> (<a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a>) – the related <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> or <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
</dl>
<p>This is called to update the activatable completely, this is called
internally when the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.related_action" title="Gtk.Activatable.props.related_action"><code class="xref py py-data docutils literal notranslate"><span class="pre">:related-action</span></code></a> property is set
or unset and by the implementing class when
<a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> <a class="reference internal" href="#Gtk.Activatable.props.use_action_appearance" title="Gtk.Activatable.props.use_action_appearance"><code class="xref py py-data docutils literal notranslate"><span class="pre">:use-action-appearance</span></code></a> changes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="Gtk.Activatable.do_update">
<span class="sig-name descname"><span class="pre">do_update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">action</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">property_name</span></span></em><span class="sig-paren">)</span><em class="property"><span class="w"> </span><span class="pre">virtual</span></em><a class="headerlink" href="#Gtk.Activatable.do_update" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>action</strong> (<a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a>) – </p></li>
<li><p><strong>property_name</strong> (<a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>) – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="property-details">
<h2>Property Details<a class="headerlink" href="#property-details" title="Permalink to this headline">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="Gtk.Activatable.props.related_action">
<span class="sig-prename descclassname"><span class="pre">Gtk.Activatable.props.</span></span><span class="sig-name descname"><span class="pre">related_action</span></span><a class="headerlink" href="#Gtk.Activatable.props.related_action" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Name</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">related-action</span></code></p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p><a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a></p>
</dd>
<dt class="field-odd">Default Value</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></a></p>
</dd>
<dt class="field-even">Flags</dt>
<dd class="field-even"><p><a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.READABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">READABLE</span></code></a>, <a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.WRITABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WRITABLE</span></code></a></p>
</dd>
</dl>
<p>The action that this activatable will activate and receive
updates from for various states and possibly appearance.</p>
<p><a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> implementors need to handle the this property and
call <a class="reference internal" href="#Gtk.Activatable.do_set_related_action" title="Gtk.Activatable.do_set_related_action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.do_set_related_action</span></code></a>() when it changes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="Gtk.Activatable.props.use_action_appearance">
<span class="sig-prename descclassname"><span class="pre">Gtk.Activatable.props.</span></span><span class="sig-name descname"><span class="pre">use_action_appearance</span></span><a class="headerlink" href="#Gtk.Activatable.props.use_action_appearance" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Name</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">use-action-appearance</span></code></p>
</dd>
<dt class="field-even">Type</dt>
<dd class="field-even"><p><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bool</span></code></a></p>
</dd>
<dt class="field-odd">Default Value</dt>
<dd class="field-odd"><p><a class="reference external" href="https://docs.python.org/3/library/constants.html#True" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">True</span></code></a></p>
</dd>
<dt class="field-even">Flags</dt>
<dd class="field-even"><p><a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.READABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">READABLE</span></code></a>, <a class="reference external" href="../../GObject-2.0/flags.html#GObject.ParamFlags.WRITABLE" title="(in GObject 2.0 v2.0)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">WRITABLE</span></code></a></p>
</dd>
</dl>
<p>Whether this activatable should reset its layout
and appearance when setting the related action or when
the action changes appearance.</p>
<p>See the <a class="reference internal" href="Action.html#Gtk.Action" title="Gtk.Action"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Action</span></code></a> documentation directly to find which properties
should be ignored by the <a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> when this property is <a class="reference external" href="https://docs.python.org/3/library/constants.html#False" title="(in Python v3.11)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">False</span></code></a>.</p>
<p><a class="reference internal" href="#Gtk.Activatable" title="Gtk.Activatable"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable</span></code></a> implementors need to handle this property
and call <a class="reference internal" href="#Gtk.Activatable.sync_action_properties" title="Gtk.Activatable.sync_action_properties"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Gtk.Activatable.sync_action_properties</span></code></a>() on the activatable
widget when it changes.</p>
<div class="versionadded">
<p><span class="versionmodified added">New in version 2.16.</span></p>
</div>
<div class="deprecated">
<p><span class="versionmodified deprecated">Deprecated since version 3.10.</span></p>
</div>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>

    </section>

  </div> 

</body>
</html>